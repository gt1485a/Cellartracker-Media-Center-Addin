<Mcml xmlns="http://schemas.microsoft.com/2006/mcml" xmlns:cor ="assembly://MSCorLib/System" xmlns:shl ="assembly://Microsoft.MediaCenter.Shell/Microsoft.MediaCenter.Shell" xmlns:coll ="assembly://mscorlib/System.Collections" xmlns:audio ="assembly://ehshell/MediaCenter.Audio" xmlns:ucp ="assembly://ehshell/ServiceBus.UIFramework" xmlns:comm ="res://Microsoft.MediaCenter.Shell!Globals.mcml" xmlns:ctl ="res://Microsoft.MediaCenter.Shell!Controls.mcml" xmlns:slide ="res://Microsoft.MediaCenter.Shell!Slide.mcml" xmlns:base ="res://ehres!SlideDeck.Details.mcml" xmlns:lib ="res://ehres!Slide.Audio.Details.mcml" xmlns:details="res://ehres!Slide.Details.mcml" xmlns:rating ="res://ehres!Ratings.mcml" xmlns:bc ="res://Microsoft.MediaCenter.Shell!BrowseCommand.mcml" xmlns:rateimg="res://ehres!Audio.StarRating.mcml" xmlns:me ="Me"><UI Name="SlideDeck_Song_Details" BaseUI="base:SlideDeck_Details_Overlay"><Properties><audio:SongDetailsSlideDeck Name="SlideDeck" SongDetailsSlideDeck="$Required" /></Properties></UI><UI Name="SongDetailsSummary" BaseUI="lib:AudioDetails_TemplateLayout"><Properties><audio:SongDetailsSlideDeck Name="SlideDeck" SongDetailsSlideDeck="$Required" /><cor:String Name="SlideTitle" String="res://ehres!Audio_SongDetailsTitle" /></Properties><Rules><Default Target="[CommandsPanel.Source]" Value="@res://ehres!Slide.Song.Details.mcml#SongDetailsCommands" /><Default Target="[MediaPosterPanel.Source]" Value="@res://ehres!Slide.Song.Details.mcml#SongDetailsMediaPoster" /><Default Target="[MediaStaticInfoPanel.Source]" Value="@res://ehres!Slide.Song.Details.mcml#SongDetailsMediaStaticInfo" /><Default Target="[SlideContentPanel.Source]" Value="@res://ehres!Slide.Song.Details.mcml#SongDetailsContentArea" /><Changed Source="[SlideDeck.OnNavigatedTo]" InitialEvaluate="true" Trace="true"><Actions><Invoke Target="[CommandsPanel.NavigateInto]" /></Actions></Changed></Rules></UI><UI Name="SongDetailsChildUI" BaseUI="lib:AudioDetailsChildUI"><Properties><audio:SongDetailsSlideDeck Name="SlideDeck" SongDetailsSlideDeck="$Required" /></Properties></UI><UI Name="SongDetailsCommands" BaseUI="me:SongDetailsChildUI"><Properties><EditableText Name="TransitionState" Value="Idle"/><EditableText Name="FocusArea" Value="none"/></Properties><Locals><FlowLayout Name="SlideLayout" Orientation="Vertical" StripAlignment="Near"/></Locals><Content><bc:DetailsCommandList Name="CommandList" DataSource="[SlideDeck.Commands]" AuxModel="[SlideDeck]" FocusArea="[FocusArea]" InListMaker="false" TransitionState="[TransitionState]" CommandLayout="[SlideLayout]"/></Content></UI><UI Name="SongDetailsMediaStaticInfo" BaseUI="me:SongDetailsChildUI"><Properties><Font Name="TitleFont" FontName="global://comm:MainFontFace" FontSize="20"/><Font Name="SubtitleFont" FontName="global://comm:RegularFontFace" FontSize="18"/><Font Name="DateTimeFont" FontName="global://comm:RegularFontFace" FontSize="14" /></Properties><Locals><IntRangedValue Name="DefaultStarRating" MinValue="0" MaxValue="5" Value="0"/></Locals><Rules><Binding Source="[SlideDeck.Model!ucp:AudioMediaModelItem.Title]" Target="[TitleText.Content]" /><Binding Source="[SlideDeck.Model!ucp:AudioMediaModelItem.AlbumTitle]" Target="[AlbumTitleText.Content]" /><Binding Source="[SlideDeck.Model!ucp:AudioMediaModelItem.Artist]" Target="[ArtistText.Content]" /><Binding Source="[SlideDeck.Model!ucp:AudioMediaModelItem.Duration]" Target="[DurationText.Content]"><Conditions><Equality Source="[SlideDeck.Model!ucp:AudioMediaModelItem.Duration.TotalMilliseconds]" ConditionOp="GreaterThan" Value="0"/></Conditions><Transformer><TimeSpanTransformer Format="Long"/></Transformer></Binding><Default Target="[DurationText.Content]" Value="" /><Binding Source="[SlideDeck.Model!ucp:AudioMediaModelItem.YearReleased]" Target="[YearReleasedText.Content]" /><Condition Source="[SlideDeck.Model!ucp:AudioMediaModelItem.YearReleased]" SourceValue="res://ehres!MediaLibrary_UnknownYear" Target="[YearReleasedText.Visible]" Value="false"/><Default Target="[YearReleasedText.Visible]" Value="true" /><Binding Source="[SlideDeck.RatingsControl.UserRating]" Target="[SongRating.Rating.Value]" /><Rule><Conditions><IsValid Source="[SlideDeck.Model!ucp:AudioMediaModelItem.Title]"/><Equality Source="[SlideDeck.Model!ucp:AudioMediaModelItem.Title.Length]" ConditionOp="GreaterThan" Value="45"/></Conditions><Actions><Set Target="[TitleText.WordWrap]" Value="true" /><Set Target="[AlbumTitleText.WordWrap]" Value="false" /></Actions></Rule><Default Target="[TitleText.WordWrap]" Value="false" /><Default Target="[ArtistText.WordWrap]" Value="false" /><Default Target="[AlbumTitleText.WordWrap]" Value="true" /></Rules><Content><Panel Layout="VerticalFlow"><Children><ctl:StaticText Name="TitleText" AccessibilityName="res://ehres!Acc_Name_SongDetails_Title" Font="[TitleFont]" Color="color://comm:OffWhite" MaximumSize="683,0" MaximumLines="2" /><Panel MaximumSize="683,0"><Layout><FlowLayout Orientation="Horizontal" Spacing="8,8"/></Layout><Children><ctl:StaticText Name="ArtistText" AccessibilityName="res://ehres!Acc_Name_SongDetails_Artist" Font="[SubtitleFont]" Color="color://comm:OffWhite" /><ctl:StaticText Name="AlbumTitleText" AccessibilityName="res://ehres!Acc_Name_SongDetails_AlbumTitle" Font="[SubtitleFont]" Color="color://comm:OffWhite" MaximumLines="2" /></Children></Panel><Panel Margins="0,7,0,0"><Layout><FlowLayout Orientation="Horizontal" Spacing="8,8"/></Layout><Children><ctl:StaticText Name="DurationText" AccessibilityName="res://ehres!Acc_Name_SongDetails_Duration" Font="[DateTimeFont]" Color="color://comm:OffWhite" /><ctl:StaticText Name="YearReleasedText" AccessibilityName="res://ehres!Acc_Name_SongDetails_YearReleased" Font="[DateTimeFont]" Color="color://comm:OffWhite" /><rateimg:StarRating Name="SongRating" Rating="[DefaultStarRating]" Scale=".80,.80,1" Margins="0,2,0,0" Shadowed="false" /></Children></Panel></Children></Panel></Content></UI><UI Name="SongDetailsMediaPoster" BaseUI="me:SongDetailsChildUI"><Locals><cor:Int32 Name="AlbumArtThemeId" Int32="1"/><Image Name="PosterShadowAsset" Source="res://ehres!Details.Thumbnail.Dropshadow.png" NineGrid="13,13,13,13"/></Locals><Rules><Default Target="[Accessible.Role]" Value="Graphic" /><Default Target="[Accessible.Name]" Value="res://ehres!Acc_Name_SongDetails_MediaPoster" /><Rule><Conditions><IsValid Source="[SlideDeck.Model]" /><IsType Source="[SlideDeck.Model]" Type="ucp:AudioMediaModelItem"/><IsValid Source="[SlideDeck.Model!ucp:AudioMediaModelItem.AlbumCover]" /></Conditions><Actions><Set Value="[SlideDeck.Model!ucp:AudioMediaModelItem.AlbumCover]" Target="[MediaPoster.Content]" /></Actions></Rule><Changed Source="[MediaPoster.Content]" InitialEvaluate="true"><Conditions><IsValid Source="[SlideDeck.Model]"/><IsType Source="[SlideDeck.Model]" Type="ucp:AudioMediaModelItem"/><Equality Source="[SlideDeck.Model!ucp:AudioMediaModelItem.IsDefaultAlbumCoverImage]" ConditionOp="Equals" Value="true" /></Conditions><Actions><Set Target="[MusicalNoteOverlay.Visible]" Value="true" ExclusiveApply="true" /></Actions></Changed><Changed Source="[MediaPoster.Content]" InitialEvaluate="true"><Conditions><IsValid Source="[SlideDeck.Model]"/><IsType Source="[SlideDeck.Model]" Type="ucp:AudioMediaModelItem"/><Equality Source="[SlideDeck.Model!ucp:AudioMediaModelItem.IsDefaultAlbumCoverImage]" ConditionOp="Equals" Value="false" /></Conditions><Actions><Set Target="[MusicalNoteOverlay.Visible]" Value="false" ExclusiveApply="true" /></Actions></Changed></Rules><Content><Panel Layout="Anchor"><Children><Graphic Name="MediaPoster" AcquiringImage="res://ehres!Audio.NoCover.1.Large.png" MaximumSize="144,145" MaintainAspectRatio="true" CenterPointPercent="0.5,0.5,0.5" Margins="13,13,13,13" Padding="13,13,13,13" ><Children><Graphic Name="MusicalNoteOverlay" Margins="0,0,0,0" Content="res://ehres!Browse.Audio.NoImage.png" /></Children></Graphic><Graphic Name="PosterShadow" Content="[PosterShadowAsset]"><LayoutInput><AnchorLayoutInput Left="MediaPoster,0" Top="MediaPoster,0" Right="MediaPoster,1" Bottom="MediaPoster,1" ContributesToWidth="true" ContributesToHeight="true"/></LayoutInput></Graphic></Children></Panel></Content></UI><UI Name="SongDetailsContentArea" BaseUI="me:SongDetailsChildUI"><Properties><Size Name="MaximumSize" Size="775,0"/><cor:Single Name="FadeSize" Single="30" /></Properties><Locals><ScrollingData Name="ScrollingData" PageSizedScrollStep="false" /><ScrollingHandler Name="ScrollingHandler" HandleDirectionalKeys="false" HandlerStage="Bubbled" HandleHomeEndKeys="true" /><Environment Name="Environment" /><Command Name="CallbackCommand"/><RepeaterFocusHelper Name="FocusOrderHelper"/><IntRangedValue Name="SelectedIndex" Value="-1"/><IntRangedValue Name="MaxIndex" Value="-1"/></Locals><Rules><Default Target="[ScrollingData.Repeater]" Value="[ActionsRepeater]" /><Default Target="[ScrollingHandler.ScrollingData]" Value="[ScrollingData]" /><Default Target="[MaxIndex.Value]" Value="[SlideDeck.AdditionalCommands.Count]"><Transformer><MathTransformer SubtractInt="1"/></Transformer></Default><Default Target="[FocusOrderHelper.Repeater]" Value="[ActionsRepeater]"/><Rule><Conditions><IsValid Source="[SlideDeck.AudioModel]"/></Conditions><Actions><Set Target="[StarRating.Visible]" Value="[SlideDeck.AudioModel.IsItemRatable]"/></Actions></Rule><Default Target="[StarRating.Visible]" Value="true"/><Rule><Conditions><Equality Source="[Input.DeepKeyFocus]" Value="true"/></Conditions><Actions><Set Target="[ActionsPanel.Alpha]" Value="1"/></Actions></Rule><Default Target="[ActionsPanel.Alpha]" Value="0.7" /><Rule><Conditions><Modified Source="[ScrollingData.CanScrollUp]" InitialEvaluate="true" /><Equality Source="[ScrollingData.CanScrollUp]" Value="true" /></Conditions><Actions><Set Target="[MainScroller.ShowNear]" Value="true" /><Set Target="[MainScroller.ShowFar]" Value="true" /><Set Target="[MainScroller.FocusPadding]" Value="30" /></Actions></Rule><Rule><Conditions><Modified Source="[ScrollingData.CanScrollUp]" /><Equality Source="[ScrollingData.CanScrollUp]" Value="false" /></Conditions><Actions><Set Target="[MainScroller.ShowNear]" Value="true" /><Set Target="[MainScroller.ShowFar]" Value="true" /><Set Target="[MainScroller.NearOffset]" Value="-30" /><Set Target="[MainScroller.Padding]" Value="0,-30,0,0" /></Actions></Rule><Rule><Conditions><Equality Source="[Environment.IsRightToLeft]" Value="true" /><Modified Source="[ScrollingData.CanScrollUp]" /><Equality Source="[ScrollingData.CanScrollUp]" Value="false" /></Conditions><Actions><Set Target="[MainScroller.ShowNear]" Value="true" /><Set Target="[MainScroller.ShowFar]" Value="true" /><Set Target="[MainScroller.FarOffset]" Value="30" /><Set Target="[MainScroller.Padding]" Value="0,30,0,0" /><Set Target="[MainScroller.Margins]" Value="0,0,0,30" /></Actions></Rule><Changed Source="[SlideDeck.AdditionalCommands]" Trace="true"><Actions><Set Target="[ActionsRepeater.Source]" Value="[SlideDeck.AdditionalCommands]" InvokePolicy="Synchronous" /><Invoke Target="[ActionsRepeater.ForceRefresh]" InvokePolicy="Synchronous" /></Actions></Changed><Rule><Conditions><Equality Source="[Environment.IsMouseActive]" Value="true"/></Conditions><Actions><Set Target="[Chevrons.Visible]" Value="true"/></Actions></Rule><Default Target="[MainScroller.ShowNear]" Value="false" /><Default Target="[MainScroller.ShowFar]" Value="true" /><Default Target="[MainScroller.NearOffset]" Value="0" /><Default Target="[MainScroller.FarOffset]" Value="0" /><Default Target="[MainScroller.Margins]" Value="0,0,0,0" /><Default Target="[MainScroller.Padding]" Value="0,0,0,0" /><Rule><Conditions><Modified Source="[CallbackCommand.Invoked]"/></Conditions><Actions><Invoke Target="[MainScroller.NavigateInto]"/></Actions></Rule></Rules><Content><Panel><Children><slide:VerticalScrollingChevrons Name="Chevrons" ScrollData="[ScrollingData]" Visible="false" CallbackCommand="[CallbackCommand]" SelectedIndex="[SelectedIndex]" FocusOrderHelper="[FocusOrderHelper]" MaxIndex="[MaxIndex]"/><Panel Layout="Anchor"><Children><Scroller Name="MainScroller" Orientation="Vertical" FadeSize="[FadeSize]" MaximumSize="[MaximumSize]" ScrollingData="[ScrollingData]"><Children><Panel Name="ActionsPanel" Layout="VerticalFlow"><Animations><Animation Animation="animation://details:Selection.Scroll" /></Animations><Children><Repeater Name="ActionsRepeater" Source="[SlideDeck.AdditionalCommands]"><Layout><FlowLayout Orientation="Vertical" StopOnEmptyItem="false" Spacing="8,0" /></Layout><Content><details:ActionTile Command="[RepeatedItem!Command]" Index="[RepeatedItemIndex]" SelectedIndex="[SelectedIndex]" SectionTitle="res://ehres!Video_Details_Additional_Commands"/></Content></Repeater><me:StarRatingButton Name="StarRating" SlideDeck="[SlideDeck]" Padding="0,0,0,30" /></Children></Panel></Children></Scroller></Children></Panel></Children></Panel></Content></UI><UI Name="StarRatingButton"><Properties><audio:SongDetailsSlideDeck Name="SlideDeck" SongDetailsSlideDeck="$Required" /><DockLayoutInput Name="IconBorderInput" Position="Right" Alignment="Center"/><Font Name="Font" FontName="global://comm:MainFontFace" FontSize="18"/><Image Name="Focus" Source="res://ehres!Button.Label.Background.Focus.png" NineGrid="7, 7, 7, 7"/><AnchorLayoutInput Name="LabelBackgroundLayoutInput" ContributesToWidth="false" ContributesToHeight="false" Left="RatingsButton, 0, -4" Top="RatingsButton, 0, 2" Right="RatingsButton, 1, 40" Bottom="RatingsButton, 1, -2"/></Properties><Locals><Environment Name="Environment"/></Locals><Rules><Binding Source="[SlideDeck.RatingsControl]" Target="[RatingsButton.Model]" /><Rule><Conditions><Equality Source="[Input.DeepKeyFocus]" Value="true"/></Conditions><Actions><Set Target="[RatingsButton.Alpha]" Value="1.0" /><Set Target="[RatingsButton.Scale]" Value="1.12,1.12,1" /><Set Target="[RatingsButton.Margins]" Value="-20,0,0,0" /></Actions></Rule><Rule><Conditions><Equality Source="[Environment.IsRightToLeft]" Value="true" /><Equality Source="[Input.DeepKeyFocus]" Value="true" /></Conditions><Actions><Set Target="[RatingsButton.CenterPointPercent]" Value="1,0.7,1"/></Actions></Rule><Rule><Conditions><Equality Source="[Environment.IsRightToLeft]" Value="true" /><Equality Source="[Input.DeepKeyFocus]" Value="false" /></Conditions><Actions><Set Target="[RatingsButton.CenterPointPercent]" Value="1,0.7,1"/></Actions></Rule><Rule><Conditions><Equality Source="[Environment.IsRightToLeft]" Value="true" /><Equality Source="[Environment.ColorScheme]" ConditionOp="NotEquals" Value="Default" /><Equality Source="[Input.DeepKeyFocus]" Value="true" /></Conditions><Actions><Set Target="[LabelBackgroundGraphic.Visible]" Value="true"/><Set Target="[RatingsButton.Padding]" Value="30,0,0,0"/></Actions></Rule><Rule><Conditions><Equality Source="[Environment.ColorScheme]" ConditionOp="NotEquals" Value="Default" /><Equality Source="[Input.DeepKeyFocus]" Value="true" /></Conditions><Actions><Set Target="[LabelBackgroundGraphic.Visible]" Value="true"/></Actions></Rule><Default Target="[RatingsButton.Alpha]" Value="0.7" /><Default Target="[RatingsButton.Scale]" Value="1,1,1" /><Default Target="[RatingsButton.Margins]" Value="0,0,0,0" /><Default Target="[RatingsButton.Padding]" Value="0,0,0,0" /><Default Target="[RatingsButton.CenterPointPercent]" Value="0,0.7,1" /><Default Target="[LabelBackgroundGraphic.Margins]" Value="-20,0,0,0"/></Rules><Content><Panel Name="Tile" Layout="Anchor"><Children><rating:DetailsRating Name="RatingsButton" Model="[SlideDeck.RatingsControl]" FocusImage="null" FocusOverlayImage="null" PressedImage="null" IconBorderInput="[IconBorderInput]" NoFocusColor="color://comm:OffWhite" FocusColor="color://comm:OffWhite" Font="[Font]" AllowPressedEffect="false" LabelMargins="0,0,0,0" TileSize="198, 50"><Animations><Animation Animation="animation://details:Selection.Scale" /><Animation Animation="animation://details:Selection.Move" /></Animations></rating:DetailsRating><Graphic Name="LabelBackgroundGraphic" Image="[Focus]" LayoutInput="[LabelBackgroundLayoutInput]" Visible="false" /></Children></Panel></Content></UI></Mcml>