<Mcml xmlns="http://schemas.microsoft.com/2006/mcml" xmlns:comm="res://Microsoft.MediaCenter.Shell!Globals.mcml" xmlns:ctl ="res://Microsoft.MediaCenter.Shell!Controls.mcml" xmlns:cor="assembly://MsCorLib/System" xmlns:video="assembly://ehshell/MediaCenter.Video" xmlns:shell="assembly://Microsoft.MediaCenter.Shell/Microsoft.MediaCenter.Shell" xmlns:play="assembly://ehshell/Microsoft.MediaCenter.Playback" xmlns:ui="assembly://ehshell/ServiceBus.UIFramework" xmlns:mp ="res://ehres!MediaPlayback.mcml" xmlns:browse="res://Microsoft.MediaCenter.Shell!BrowsePage.mcml" xmlns:me="Me"><UI Name="ButtonPage"><Properties><video:ButtonPageModel Name="Model" ButtonPageModel="$Required"/><shell:PageState Name="PageState" PageState="$Required"/><AnchorLayoutInput Name="TitleContainerLayout" Left="TitleContainer,1,186" Top="Parent,0,42"/><AnchorLayoutInput Name="RightAlignedLayout" Right="Parent,1,-80" Top="Parent,0,42"/></Properties><Locals><shell:ShellData Name="ShellData"/><cor:Single Name="PageHeaderFadeSize" Single="global://comm:BrowseGalleryTitleFadeSize"/><cor:Single Name="PageHeaderFarOffset" Single="global://comm:SettingsGalleryTitleFarOffset"/><ui:MediaNowPlaying Name="MediaNowPlaying"/><EditableText Name="TransitionState" Value="Idle"/></Locals><Rules><Binding Target="[PageHeader.Content]" Source="[Model.PageHeader]"/><Binding Target="[PageHeader.AccessibilityName]" Source="[Model.PageHeader]"/><Binding Target="[PageTitle.Content]" Source="[Model.Description]" /><Binding Target="[PageTitle.AccessibilityName]" Source="[Model.Description]" /><Binding Target="[ContentArea.Source]" Source="[Model.ContentUrl]" /><Binding Target="[Commands.Source]" Source="[Model.Commands]" /><Binding Target="[PIPArea.Visible]" Source="[Model.ShowPIP]" /><Condition Source="[Model.RightAlignTitle]" SourceValue="true" Target="[PageTitle.LayoutInput]" Value="[RightAlignedLayout]"/><Rule><Conditions><Equality Source="[PageState.TransitionState]" Value="NavigatingToForward"/></Conditions><Actions><Set Target="[TransitionState.Value]" Value="NavigatingToForward"/></Actions></Rule><Rule><Conditions><Equality Source="[PageState.TransitionState]" Value="NavigatingToBackward"/></Conditions><Actions><Set Target="[TransitionState.Value]" Value="NavigatingToBackward"/></Actions></Rule><Rule><Conditions><Equality Source="[PageState.TransitionState]" Value="NavigatingAwayForward"/></Conditions><Actions><Set Target="[TransitionState.Value]" Value="NavigatingAwayForward"/></Actions></Rule><Rule><Conditions><Equality Source="[PageState.TransitionState]" Value="NavigatingAwayBackward"/></Conditions><Actions><Set Target="[TransitionState.Value]" Value="NavigatingAwayBackward"/></Actions></Rule><Condition Source="[TransitionState.Value]" SourceValue="NavigatingToForward"><Actions><Invoke Target="[TitleContainer.AttachAnimation]" animation="animation://comm:ccRight.Enter" InvokePolicy="Synchronous"/><Invoke Target="[PageTitle.AttachAnimation]" animation="animation://comm:Left.Enter" InvokePolicy="Synchronous"/><Invoke Target="[CommandPanel.AttachAnimation]" animation="animation://comm:Right.Enter" InvokePolicy="Synchronous"/><Invoke Target="[ContentArea.AttachAnimation]" animation="animation://comm:Left.Enter" InvokePolicy="Synchronous"/></Actions></Condition><Condition Source="[TransitionState.Value]" SourceValue="NavigatingToBackward"><Actions><Invoke Target="[TitleContainer.AttachAnimation]" animation="animation://comm:Common.EnterBack" InvokePolicy="Synchronous"/><Invoke Target="[PageTitle.AttachAnimation]" animation="animation://comm:CommonRight.EnterBack" InvokePolicy="Synchronous"/><Invoke Target="[CommandPanel.AttachAnimation]" animation="animation://comm:Common.EnterBack" InvokePolicy="Synchronous"/><Invoke Target="[ContentArea.AttachAnimation]" animation="animation://comm:CommonRight.EnterBack" InvokePolicy="Synchronous"/></Actions></Condition></Rules><Content><Panel><Children><Panel Layout="Center"><Children><Panel Layout="Dock" MaximumSize="1024,0"><Children><Panel Layout="Anchor"><LayoutInput><DockLayoutInput Position="Top" Alignment="Near"/></LayoutInput><Children><Clip Name="TitleContainer" Orientation="Vertical" ShowNear="false" ShowFar="true" FadeSize="[PageHeaderFadeSize]" FarOffset="[PageHeaderFarOffset]" Margins="20,40,0,0"><LayoutInput><AnchorLayoutInput Left="Parent,0" Top="Parent,0"/></LayoutInput><Children><Graphic Name="TitleShadow" Margins="-20, 0, -45, 0" Padding="20, 0, 45, 0" SizingPolicy="SizeToChildren"><Children><ctl:StaticText Name="PageHeader" Color="color://comm:LightBlue" Margins="0, 0, 0, 0" Padding="0, 0, 0, 40" WordWrap="False"><Font><Font Name="BrowseMainTitle" FontName="global://comm:LightFontFace" FontSize="29" /></Font></ctl:StaticText></Children></Graphic></Children></Clip><ctl:StaticText Name="PageTitle" Color="color://comm:OffWhite" LayoutInput="[TitleContainerLayout]" WordWrap="True" MaximumLines="2"><Font><Font FontName="global://comm:MainFontFace" FontSize="24" /></Font></ctl:StaticText></Children></Panel><Panel Name="CommandPanel" MinimumSize="300,0" Layout="VerticalFlow"><LayoutInput><DockLayoutInput Position="Left" Alignment="Near" /></LayoutInput><Children><Repeater Name="Commands" Layout="Form" Margins="54,26,0,0" Navigation="RememberFocus, PreferFocusOrder"><Layout><FlowLayout Orientation="Vertical" Spacing="3,0"/></Layout><Content><ctl:Button Model="[RepeatedItem!ICommand]"/></Content></Repeater><Panel Name="PIPArea" MaximumSize="150,150" MinimumSize="150,150"><LayoutInput><AnchorLayoutInput Bottom="Parent,1"/></LayoutInput><Children><NowPlaying Name="PIP" ShowFullMetadata="OnFocus" SnapToDefaultPosition="true" Visible="true"/></Children></Panel></Children></Panel><me:ContentAreaHost Name="ContentArea" Model="[Model]" Margins="30,0,0,0" ><LayoutInput><DockLayoutInput Position="Client" /></LayoutInput></me:ContentAreaHost></Children></Panel><mp:MediaPlayback MediaNavigator="[MediaNowPlaying.Primary]" PlaybackMode="Inset" InputEnabled="false" Alpha="0" /></Children></Panel></Children></Panel></Content></UI><UI Name="ContentAreaHost"><Properties><video:ButtonPageModel Name="Model" ButtonPageModel="$Required"/></Properties></UI></Mcml>