<Mcml xmlns="http://schemas.microsoft.com/2006/mcml" xmlns:play="assembly://ehshell/Microsoft.MediaCenter.Playback" xmlns:cor="assembly://MSCorLib/System" xmlns:comm="res://Microsoft.MediaCenter.Shell!Globals.mcml" xmlns:nav="res://Microsoft.MediaCenter.Shell!NavPanel.mcml" xmlns:seekbar="res://ehres!SeekBar.mcml" xmlns:easinfobar="res://ehres!EASInfoBar.mcml" xmlns:infobarbase="res://ehres!InfoBarBase.mcml" xmlns:infobarhinting="res://ehres!InfoBarHinting.mcml" xmlns:buffering="res://ehres!BufferingIndicator.mcml" xmlns:ovrly="res://Microsoft.MediaCenter.Shell!Overlays.mcml" xmlns:shell="assembly://Microsoft.MediaCenter.Shell/Microsoft.MediaCenter.Shell" xmlns:fsvideo="res://ehres!FullScreenVideoPlayback.mcml" xmlns:adisp ="res://ehres!AnnouncementDisplay.mcml" xmlns:cc="res://ehres!CCView.xml" xmlns:teletext="res://ehres!TeletextView.mcml" xmlns:subtitles="res://ehres!DibPane.mcml" xmlns:dbg ="res://ehres!DebugOverlay.mcml" xmlns:itv="res://ehres!ItvServicesPanel.mcml" xmlns:videozoom="res://ehres!VideoZoom.mcml" xmlns:me="Me"><CommandCode Name="DetailsCommandCode" CommandCode="Details" /><UI Name="FullScreenTVPlayback" BaseUI="fsvideo:FullScreenVideoPlayback" Behavior="play:FullScreenTVBehavior"><Locals><KeyHandler Name="IKeyHandler" Key="I" HandlerStage="Bubbled" Handle="true"><Command><InvokeCommand Target="[Input.InfoBarHelper.Toggle]"/></Command></KeyHandler><KeyHandler Name="MiniGuideKeyHandler" Key="Down" HandlerStage="Bubbled" Handle="true"><Command><InvokeCommand Target="[Input.MiniGuideHelper.ShowNow]" /></Command></KeyHandler><KeyHandler Name="MiniGuideKeyHandler2" Key="Up" HandlerStage="Bubbled" Handle="true"><Command><InvokeCommand Target="[Input.MiniGuideHelper.ShowNow]" /></Command></KeyHandler><play:MMIServiceHelper Name="MMIServiceHelper"/><play:PageStackNavigationHelper Name="PageStackNavigationHelper"/><AnchorEdge Name="InfoBarHintingLeft" Id="Parent" Percent="0"/><AnchorEdge Name="InfoBarHintingTop" Id="Parent" Percent="0" Offset="391"/><AnchorLayoutInput Name="InfoBarAnchorLayoutInput"/><Timer Name="BufferingDelay" AutoRepeat="false" Interval="global://comm:BufferintIndicatorTimeout" Enabled="false"/><Environment Name="Environment"/></Locals><Rules><Binding Target="[InfoBarAnchorLayoutInput.Left]" Source="[InfoBarHintingLeft]"/><Binding Target="[InfoBarAnchorLayoutInput.Top]" Source="[InfoBarHintingTop]"/><Binding Target="[Input.SeekBarModel]" Source="[SeekBarModel]"/><Rule ConditionLogicalOp="And"><Conditions><Modified Source="[MediaNavigator.MediaItem]" /></Conditions><Actions><Set Target="[Input.SeekBarHelper.CanShow]" Value="false"/><Invoke Target="[NowPlaying.HideAll]" ExclusiveApply="false"/><Set Target="[Input.InfoBarHelper.CanShow]" Value="true" /><Set Target="[Input.InfoBarHelper.Show]" Value="true" /></Actions></Rule><Rule ConditionLogicalOp="And"><Conditions><Modified Source="[MediaMonitor.IsRecording]" /><Equality Source="[NowPlaying.Visible]" Value="false" /><Equality Source="[NowPlaying.DetailsIsVisible]" Value="false" /><Equality Source="[Input.IsMiniGuideShown]" Value="false" /></Conditions><Actions><Set Target="[Input.InfoBarHelper.Show]" Value="true" /></Actions></Rule><Rule ConditionLogicalOp="And"><Conditions><Modified Source="[MediaMonitor.IsRecordedSeries]" /><Equality Source="[SeekBar.Visible]" Value="false" /><Equality Source="[NowPlaying.Visible]" Value="false" /><Equality Source="[NowPlaying.DetailsIsVisible]" Value="false" /><Equality Source="[Input.IsMiniGuideShown]" Value="false" /></Conditions><Actions><Set Target="[Input.InfoBarHelper.Show]" Value="true" /></Actions></Rule><Rule ConditionLogicalOp="And"><Conditions><Equality Source="[MediaNavigator.SwitchToLiveTV]" Value="true"/><Equality Source="[PageState.IsCurrentPage]" Value="true"/></Conditions><Actions><Set Target="[MediaNavigator.SwitchToLiveTV]" Value="false" InvokePolicy="Synchronous"/><Set Target="[Input.InfoBarHelper.Show]" Value="true" /></Actions></Rule><Rule ConditionLogicalOp="Or"><Conditions><Equality Source="[NowPlaying.Visible]" Value="true" /><Equality Source="[NowPlaying.DetailsIsVisible]" Value="true" /></Conditions><Actions><Set Target="[Input.MiniGuideHelper.CanShow]" Value="false"/></Actions></Rule><Rule><Conditions><IsType Source="[MediaNavigator.Model]" Type="play:MediaSession"/><Equality Source="[MediaNavigator.Model!play:MediaSession.ChannelChangeEnd]" ConditionOp="Equals" Value="false"/></Conditions><Actions><Set Target="[Input.SeekBarHelper.CanShow]" Value="false"/></Actions></Rule><Rule ConditionLogicalOp="And"><Conditions><Equality Source="[Input.EasInfoBarHelper.Show]" Value="true" /></Conditions><Actions><Set Target="[Input.SeekBarHelper.CanShow]" Value="false" /><Set Target="[Input.InfoBarHelper.CanShow]" Value="false" /><Set Target="[Input.MiniGuideHelper.CanShow]" Value="false" /><Set Target="[Input.DigitEntryHelper.Enabled]" Value="false" /><Set Target="[EasInfoBar.Visible]" Value="true" /></Actions></Rule><Rule ConditionLogicalOp="And"><Conditions><Equality Source="[Input.EasInfoBarHelper.Show]" Value="false" /></Conditions><Actions><Set Target="[Input.InfoBarHelper.CanShow]" Value="true" /><Set Target="[EasInfoBar.Visible]" Value="false" /></Actions></Rule><Binding Target="[EasInfoBarModel.MediaTitle]" Source="[Input.EasInfoBarHelper.Message]" /><Rule ConditionLogicalOp="And"><Conditions><Equality Source="[Input.IsGuideAvailable]" Value="true"/><Modified Source="[Input.MiniGuideHelper.Show]" /><Equality Source="[Input.MiniGuideHelper.Show]" Value="true" /></Conditions><Actions><Invoke Target="[Input.ShowMiniGuide]" /><Set Target="[Input.SeekBarHelper.CanShow]" Value="false" /><Set Target="[Input.InfoBarHelper.CanShow]" Value="false" /><Set Target="[Input.DigitEntryHelper.Enabled]" Value="false" /></Actions></Rule><Rule ConditionLogicalOp="And"><Conditions><Modified Source="[Input.MiniGuideHelper.Show]" /><Equality Source="[Input.MiniGuideHelper.Show]" Value="false" /></Conditions><Actions><Invoke Target="[Input.CloseMiniGuide]" /><Set Target="[Input.InfoBarHelper.CanShow]" Value="true" /></Actions></Rule><Rule ConditionLogicalOp="And"><Conditions><Modified Source="[NowPlaying.OnNavigatedTo]" /></Conditions><Actions><Invoke Target="[Input.CloseMiniGuide]" /></Actions></Rule><Rule ConditionLogicalOp="And"><Conditions><Modified Source="[Input.IsMiniGuideShown]" /><Equality Source="[Input.IsMiniGuideShown]" Value="false" /></Conditions><Actions><Set Target="[Input.MiniGuideHelper.Show]" Value="false" /></Actions></Rule><Rule ConditionLogicalOp="And"><Conditions><Modified Source="[Input.DigitEntryHelper.Enabled]" /><Equality Source="[Input.DigitEntryHelper.Enabled]" Value="true" /></Conditions><Actions><Invoke Target="[Input.CloseMiniGuide]" /></Actions></Rule><Rule><Conditions><IsValid Source="[MediaNavigator.Model!play:MediaSession.ClosedCaptionsStream.TextSplashControl.CaptionWindowMgr]"/></Conditions><Actions><Set Target="[CCOverlay.Model]" Value="[MediaNavigator.Model!play:MediaSession.ClosedCaptionsStream.TextSplashControl.CaptionWindowMgr]"/><Set Target="[CCOverlay.Visible]" Value="true" /></Actions></Rule><Rule><Conditions><IsValid Source="[MediaNavigator.Model!play:MediaSession.TeletextStream.TextSplashControl.CaptionWindowMgr]"/></Conditions><Actions><Set Target="[TeletextOverlay.Model]" Value="[MediaNavigator.Model!play:MediaSession.TeletextStream.TextSplashControl.CaptionWindowMgr]"/><Set Target="[TeletextOverlay.Visible]" Value="true" /></Actions></Rule><Rule><Conditions><IsValid Source="[MediaNavigator.Model!play:MediaSession.SubtitlesStream]"/><Equality Source="[MediaNavigator.Model!play:MediaSession.SubtitlesStream.RenderOverVideo]" Value="true"/></Conditions><Actions><Set Target="[DibPaneVideo.Model]" Value="[MediaNavigator.Model!play:MediaSession.SubtitlesStream.DibSplashControl.DibPane]"/><Set Target="[DibPaneVideo.Visible]" Value="true" /></Actions></Rule><Rule><Conditions><IsValid Source="[MediaNavigator.Model!play:MediaSession.SubtitlesStream]"/><Equality Source="[MediaNavigator.Model!play:MediaSession.SubtitlesStream.RenderOverItv]" Value="true"/></Conditions><Actions><Set Target="[DibPaneActive.Model]" Value="[MediaNavigator.Model!play:MediaSession.SubtitlesStream.DibSplashControl.DibPane]"/><Set Target="[DibPaneActive.Visible]" Value="true" /></Actions></Rule><Rule><Conditions><IsValid Source="[MediaNavigator.Model!play:MediaSession.SuperimposeStream]"/></Conditions><Actions><Set Target="[DibPaneSuperimpose.Model]" Value="[MediaNavigator.Model!play:MediaSession.SuperimposeStream.DibSplashControl.DibPane]"/><Set Target="[DibPaneSuperimpose.Visible]" Value="true" /></Actions></Rule><Default Target="[CCOverlay.Visible]" Value="false"/><Default Target="[TeletextOverlay.Visible]" Value="false"/><Default Target="[DibPaneSuperimpose.Visible]" Value="false"/><Default Target="[DibPaneActive.Visible]" Value="false"/><Default Target="[DibPaneVideo.Visible]" Value="false"/><Rule ConditionLogicalOp="And"><Conditions><Modified Source="[Input.HasFocus]" InitialEvaluate="true"/><IsValid Source="[Input.TwoFootToolBarData]"/></Conditions><Actions><Set Target="[Input.TwoFootToolBarData.ItvToolbarList]" Value="[Input.ItvToolBarList]"/></Actions></Rule><Rule ConditionLogicalOp="And"><Conditions><Equality Source="[MediaMonitor.IsTunedToRadio]" Value="true" ConditionOp="ChangedTo"/><Equality Source="[MediaNavigator.MediaItem]" Value="[MediaMonitor.MediaItem]" ConditionOp="NotEquals"/></Conditions><Actions><Invoke Target="[MediaNavigator.Stop]"/><Invoke Target="[PageStackNavigationHelper.BackPage]" to="home.xml"/></Actions></Rule><Rule ConditionLogicalOp="And"><Conditions><IsValid Source="[MediaNavigator.Model!play:MediaSession.VideoPresentationControl]"/><Modified Source="[MediaNavigator.Model!play:MediaSession.VideoPresentationControl.VideoMargins]" InitialEvaluate="true"/></Conditions><Actions><Set Target="[VideoLeft.Percent]" Value="[MediaNavigator.Model!play:MediaSession.VideoPresentationControl.VideoMargins.Left]"/><Set Target="[VideoTop.Percent]" Value="[MediaNavigator.Model!play:MediaSession.VideoPresentationControl.VideoMargins.Top]"/><Set Target="[VideoRight.Percent]" Value="[MediaNavigator.Model!play:MediaSession.VideoPresentationControl.VideoMargins.Right]"/><Set Target="[VideoBottom.Percent]" Value="[MediaNavigator.Model!play:MediaSession.VideoPresentationControl.VideoMargins.Bottom]"/><Invoke Target="[MediaNavigator.Model!play:MediaSession.VideoPresentationControl.Invalidate]" InvokePolicy="Synchronous"/></Actions></Rule><Rule ConditionLogicalOp="And"><Conditions><IsValid Source="[MediaNavigator.Model!play:MediaSession.VideoPresentationControl]"/><Modified Source="[MediaNavigator.Model!play:MediaSession.VideoPresentationControl.VideoMargins]" InitialEvaluate="true"/><Equality Source="[MediaNavigator.Model!play:MediaSession.VideoPresentationControl.VideoMargins]" ConditionOp="NotEquals" Value="[MediaNavigator.Model!play:MediaSession.VideoPresentationControl.FullScreenVideoMargins]"/></Conditions><Actions><Set Target="[MediaNavigator.Model!play:MediaSession.VideoPresentationControl.NoOverscanOverride]" Value="true"/><Invoke Target="[MediaNavigator.Model!play:MediaSession.VideoPresentationControl.Invalidate]" InvokePolicy="Synchronous"/></Actions></Rule><Default Target="[MediaNavigator.Model!play:MediaSession.VideoPresentationControl.NoOverscanOverride]" Value="false"><Conditions><IsValid Source="[MediaNavigator.Model!play:MediaSession.VideoPresentationControl]"/></Conditions></Default><Rule ConditionLogicalOp="And" TraceName="BackgroundImageFullVideo"><Conditions><IsValid Source="[MediaNavigator.Model!play:MediaSession.VideoPresentationControl]"/><Equality Source="[MediaNavigator.Model!play:MediaSession.VideoPresentationControl.VideoMargins]" Value="[MediaNavigator.Model!play:MediaSession.VideoPresentationControl.FullScreenVideoMargins]"/><IsValid Source="[MediaNavigator.Model!play:MediaSession.VideoPresentationControl.Image]"/><Equality Source="[MediaNavigator.Model!play:MediaSession.VideoPresentationControl.VideoMode]" Value="Image"/><IsValid Source="[PageState]"/></Conditions><Actions><Set Target="[PageState.PreferredBackgroundImage]" Value="[MediaNavigator.Model!play:MediaSession.VideoPresentationControl.VideoImage]"/><Set Target="[PageState.PreferredBackgroundMode]" Value="Image"/><Set Target="[Video.Visible]" Value="false"/></Actions></Rule><Rule ConditionLogicalOp="And" TraceName="UpdateBackgroundImageFullVideo"><Conditions><IsValid Source="[MediaNavigator.Model!play:MediaSession.VideoPresentationControl]"/><Equality Source="[MediaNavigator.Model!play:MediaSession.VideoPresentationControl.VideoMargins]" Value="[MediaNavigator.Model!play:MediaSession.VideoPresentationControl.FullScreenVideoMargins]"/><IsValid Source="[MediaNavigator.Model!play:MediaSession.VideoPresentationControl.Image]"/><Equality Source="[MediaNavigator.Model!play:MediaSession.VideoPresentationControl.VideoMode]" Value="Image"/><IsValid Source="[PageState]"/><Modified Source="[MediaNavigator.Model!play:MediaSession.VideoPresentationControl.VideoImage]"/></Conditions><Actions><Set Target="[PageState.PreferredBackgroundImage]" Value="[MediaNavigator.Model!play:MediaSession.VideoPresentationControl.VideoImage]"/></Actions></Rule><Rule ConditionLogicalOp="And" TraceName="BackgroundImageNoImageFollowVideo"><Conditions><IsValid Source="[MediaNavigator.Model!play:MediaSession.VideoPresentationControl]"/><Equality Source="[MediaNavigator.Model!play:MediaSession.VideoPresentationControl.ImageFollowVideo]" Value="false"/><IsValid Source="[MediaNavigator.Model!play:MediaSession.VideoPresentationControl.Image]"/><Equality Source="[MediaNavigator.Model!play:MediaSession.VideoPresentationControl.VideoMode]" Value="Image"/><IsValid Source="[PageState]"/></Conditions><Actions><Set Target="[PageState.PreferredBackgroundImage]" Value="[MediaNavigator.Model!play:MediaSession.VideoPresentationControl.VideoImage]"/><Set Target="[PageState.PreferredBackgroundMode]" Value="Image"/><Set Target="[Video.Visible]" Value="false"/></Actions></Rule><Rule ConditionLogicalOp="And" TraceName="UpdateBackgroundImageNoImageFollowVideo"><Conditions><IsValid Source="[MediaNavigator.Model!play:MediaSession.VideoPresentationControl]"/><Equality Source="[MediaNavigator.Model!play:MediaSession.VideoPresentationControl.ImageFollowVideo]" Value="false"/><IsValid Source="[MediaNavigator.Model!play:MediaSession.VideoPresentationControl.Image]"/><Equality Source="[MediaNavigator.Model!play:MediaSession.VideoPresentationControl.VideoMode]" Value="Image"/><IsValid Source="[PageState]"/><Modified Source="[MediaNavigator.Model!play:MediaSession.VideoPresentationControl.VideoImage]"/></Conditions><Actions><Set Target="[PageState.PreferredBackgroundImage]" Value="[MediaNavigator.Model!play:MediaSession.VideoPresentationControl.VideoImage]"/></Actions></Rule><Rule ConditionLogicalOp="And" TraceName="BackgroundColor"><Conditions><IsValid Source="[MediaNavigator.Model!play:MediaSession.VideoPresentationControl]"/><Equality Source="[MediaNavigator.Model!play:MediaSession.VideoPresentationControl.VideoMargins]" Value="[MediaNavigator.Model!play:MediaSession.VideoPresentationControl.FullScreenVideoMargins]"/><Equality Source="[MediaNavigator.Model!play:MediaSession.VideoPresentationControl.VideoMode]" Value="Color"/><IsValid Source="[PageState]"/></Conditions><Actions><Set Target="[PageState.PreferredBackgroundColor]" Value="[MediaNavigator.Model!play:MediaSession.VideoPresentationControl.VideoColor]"/><Set Target="[PageState.PreferredBackgroundMode]" Value="Color"/><Set Target="[Video.Visible]" Value="false"/></Actions></Rule><Rule ConditionLogicalOp="And" TraceName="BackgroundBlackVideoMoved"><Conditions><IsValid Source="[MediaNavigator.Model!play:MediaSession.VideoPresentationControl]"/><Equality Source="[MediaNavigator.Model!play:MediaSession.VideoPresentationControl.VideoMargins]" ConditionOp="NotEquals" Value="[MediaNavigator.Model!play:MediaSession.VideoPresentationControl.FullScreenVideoMargins]"/><Equality Source="[MediaNavigator.Model!play:MediaSession.VideoPresentationControl.VideoMode]" Value="Video"/></Conditions><Actions><Set Target="[PageState.PreferredBackgroundMode]" Value="Color"/><Set Target="[PageState.PreferredBackgroundColor]" Value="Black"/></Actions></Rule><Rule ConditionLogicalOp="And" TraceName="BackgroundBlackColorInset"><Conditions><IsValid Source="[MediaNavigator.Model!play:MediaSession.VideoPresentationControl]"/><Equality Source="[MediaNavigator.Model!play:MediaSession.VideoPresentationControl.VideoMargins]" ConditionOp="NotEquals" Value="[MediaNavigator.Model!play:MediaSession.VideoPresentationControl.FullScreenVideoMargins]"/><Equality Source="[MediaNavigator.Model!play:MediaSession.VideoPresentationControl.VideoMode]" Value="Color"/></Conditions><Actions><Set Target="[PageState.PreferredBackgroundMode]" Value="Color"/><Set Target="[PageState.PreferredBackgroundColor]" Value="Black"/><Set Target="[Video.Visible]" Value="false"/><Set Target="[VideoColor.Content]" Value="[MediaNavigator.Model!play:MediaSession.VideoPresentationControl.VideoColor]"/><Set Target="[VideoColor.Visible]" Value="true"/></Actions></Rule><Rule ConditionLogicalOp="And" TraceName="BackgroundBlackImageInset"><Conditions><IsValid Source="[MediaNavigator.Model!play:MediaSession.VideoPresentationControl]"/><Equality Source="[MediaNavigator.Model!play:MediaSession.VideoPresentationControl.VideoMargins]" ConditionOp="NotEquals" Value="[MediaNavigator.Model!play:MediaSession.VideoPresentationControl.FullScreenVideoMargins]"/><Equality Source="[MediaNavigator.Model!play:MediaSession.VideoPresentationControl.VideoMode]" Value="Image"/><Equality Source="[MediaNavigator.Model!play:MediaSession.VideoPresentationControl.ImageFollowVideo]" Value="true"/></Conditions><Actions><Set Target="[PageState.PreferredBackgroundMode]" Value="Color"/><Set Target="[PageState.PreferredBackgroundColor]" Value="Black"/><Set Target="[Video.Visible]" Value="false"/><Set Target="[VideoImage.Content]" Value="[MediaNavigator.Model!play:MediaSession.VideoPresentationControl.VideoImage]"/><Set Target="[VideoImage.Visible]" Value="true"/></Actions></Rule><Rule ConditionLogicalOp="And" TraceName="UpdateBackgroundBlackImageInset"><Conditions><IsValid Source="[MediaNavigator.Model!play:MediaSession.VideoPresentationControl]"/><Equality Source="[MediaNavigator.Model!play:MediaSession.VideoPresentationControl.VideoMargins]" ConditionOp="NotEquals" Value="[MediaNavigator.Model!play:MediaSession.VideoPresentationControl.FullScreenVideoMargins]"/><Equality Source="[MediaNavigator.Model!play:MediaSession.VideoPresentationControl.VideoMode]" Value="Image"/><Equality Source="[MediaNavigator.Model!play:MediaSession.VideoPresentationControl.ImageFollowVideo]" Value="true"/><Modified Source="[MediaNavigator.Model!play:MediaSession.VideoPresentationControl.VideoImage]"/></Conditions><Actions><Set Target="[VideoImage.Content]" Value="[MediaNavigator.Model!play:MediaSession.VideoPresentationControl.VideoImage]"/></Actions></Rule><Rule ConditionLogicalOp="And" TraceName="BackgroundBlackCarouselNoVideo"><Conditions><IsValid Source="[MediaNavigator.Model!play:MediaSession.CurrentState]"/><Equality Source="[MediaNavigator.Model!play:MediaSession.VideoStream]" ConditionOp="Equals" Value="null"/><Equality Source="[MediaNavigator.Model!play:MediaSession.CarouselStream]" ConditionOp="NotEquals" Value="null"/><Equality Source="[MediaNavigator.Model!play:MediaSession.ChannelChangeEnd]" ConditionOp="Equals" Value="true"/></Conditions><Actions><Set Target="[PageState.PreferredBackgroundMode]" Value="Color"/><Set Target="[PageState.PreferredBackgroundColor]" Value="Black"/></Actions></Rule><Rule ConditionLogicalOp="And" TraceName="BackgroundBlackCarouselScrambledVideo"><Conditions><IsValid Source="[MediaNavigator.Model!play:MediaSession.VideoStream]"/><Equality Source="[MediaNavigator.Model!play:MediaSession.VideoStream.IsScrambled]" ConditionOp="Equals" Value="true"/><Equality Source="[MediaNavigator.Model!play:MediaSession.CarouselStream]" ConditionOp="NotEquals" Value="null"/><Equality Source="[MediaNavigator.Model!play:MediaSession.ChannelChangeEnd]" ConditionOp="Equals" Value="true"/></Conditions><Actions><Set Target="[PageState.PreferredBackgroundMode]" Value="Color"/><Set Target="[PageState.PreferredBackgroundColor]" Value="Black"/></Actions></Rule><Default Target="[VideoImage.Visible]" Value="false"/><Default Target="[VideoColor.Visible]" Value="false"/><Rule ConditionLogicalOp="And"><Conditions><IsValid Source="[MediaNavigator.Model!play:MediaSession.CurrentState]"/><Equality Source="[MediaNavigator.Model!play:MediaSession.VideoPresentationControl]" ConditionOp="Equals" Value="null"/><Equality Source="[MediaNavigator.StoppedByUser]" ConditionOp="Equals" Value="false"/><Equality Source="[MediaNavigator.EndOfMedia]" ConditionOp="Equals" Value="false"/><IsValid Source="[PageState]"/></Conditions><Actions><Set Target="[PageState.PreferredBackgroundMode]" Value="Color"/><Set Target="[PageState.PreferredBackgroundColor]" Value="Black"/></Actions></Rule><Rule ConditionLogicalOp="And"><Conditions><IsValid Source="[MediaNavigator.Model!play:MediaSession.CurrentState]"/><Equality Source="[MediaNavigator.Model!play:MediaSession.VideoStream]" ConditionOp="Equals" Value="null"/><Modified Source="[InfoBar.Visible]"/><Equality Source="[MediaNavigator.StoppedByUser]" ConditionOp="Equals" Value="false"/><Equality Source="[MediaNavigator.EndOfMedia]" ConditionOp="Equals" Value="false"/><IsValid Source="[PageState]"/><Equality Source="[PageState.PreferredBackgroundMode]" ConditionOp="Equals" Value="Video"/></Conditions><Actions><Set Target="[PageState.PreferredBackgroundMode]" Value="Color"/><Set Target="[PageState.PreferredBackgroundColor]" Value="Black"/></Actions></Rule><Rule ConditionLogicalOp="And"><Conditions><IsValid Source="[MediaNavigator.Model!play:MediaSession.CurrentState]"/><Equality Source="[MediaNavigator.Model!play:MediaSession.VideoStream]" ConditionOp="Equals" Value="null"/><Modified Source="[SeekBar.Visible]"/><Equality Source="[MediaNavigator.StoppedByUser]" ConditionOp="Equals" Value="false"/><Equality Source="[MediaNavigator.EndOfMedia]" ConditionOp="Equals" Value="false"/><IsValid Source="[PageState]"/><Equality Source="[PageState.PreferredBackgroundMode]" ConditionOp="Equals" Value="Video"/></Conditions><Actions><Set Target="[PageState.PreferredBackgroundMode]" Value="Color"/><Set Target="[PageState.PreferredBackgroundColor]" Value="Black"/></Actions></Rule><Rule ConditionLogicalOp="And"><Conditions><IsValid Source="[MediaNavigator.Model!play:MediaSession.CurrentState]"/><Equality Source="[MediaNavigator.Model!play:MediaSession.VideoStream]" ConditionOp="Equals" Value="null"/><Modified Source="[ZoomMode.Visible]"/><Equality Source="[MediaNavigator.StoppedByUser]" ConditionOp="Equals" Value="false"/><Equality Source="[MediaNavigator.EndOfMedia]" ConditionOp="Equals" Value="false"/><IsValid Source="[PageState]"/><Equality Source="[PageState.PreferredBackgroundMode]" ConditionOp="Equals" Value="Video"/></Conditions><Actions><Set Target="[PageState.PreferredBackgroundMode]" Value="Color"/><Set Target="[PageState.PreferredBackgroundColor]" Value="Black"/></Actions></Rule><Rule ConditionLogicalOp="And"><Conditions><IsValid Source="[MediaNavigator.Model!play:MediaSession.CurrentState]"/><Equality Source="[MediaNavigator.Model!play:MediaSession.VideoStream]" ConditionOp="Equals" Value="null"/><Modified Source="[Input.IsMiniGuideShown]"/><Equality Source="[MediaNavigator.StoppedByUser]" ConditionOp="Equals" Value="false"/><Equality Source="[MediaNavigator.EndOfMedia]" ConditionOp="Equals" Value="false"/><IsValid Source="[PageState]"/><Equality Source="[PageState.PreferredBackgroundMode]" ConditionOp="Equals" Value="Video"/></Conditions><Actions><Set Target="[PageState.PreferredBackgroundMode]" Value="Color"/><Set Target="[PageState.PreferredBackgroundColor]" Value="Black"/></Actions></Rule><Rule ConditionLogicalOp="And"><Conditions><IsValid Source="[MediaNavigator.Model!play:MediaSession.CurrentState]"/><Equality Source="[MediaNavigator.Model!play:MediaSession.VideoStream]" ConditionOp="Equals" Value="null"/><IsValid Source="[Input.TwoFootToolBarData]"/><Modified Source="[Input.TwoFootToolBarData.ToolbarsVisible]"/><Equality Source="[MediaNavigator.StoppedByUser]" ConditionOp="Equals" Value="false"/><Equality Source="[MediaNavigator.EndOfMedia]" ConditionOp="Equals" Value="false"/><IsValid Source="[PageState]"/><Equality Source="[PageState.PreferredBackgroundMode]" ConditionOp="Equals" Value="Video"/></Conditions><Actions><Set Target="[PageState.PreferredBackgroundMode]" Value="Color"/><Set Target="[PageState.PreferredBackgroundColor]" Value="Black"/></Actions></Rule><Rule ConditionLogicalOp="And"><Conditions><Modified Source="[MediaNavigator.Model!play:MediaSession.FirstDenial]" InitialEvaluate="true"/><IsValid Source="[MediaNavigator.Model!play:MediaSession.FirstDenial]"/><IsNotType Source="[MediaNavigator.Model!play:MediaSession.FirstDenial]" Type="play:EmmMessageAnnouncement"/><IsValid Source="[PageState]"/></Conditions><Actions><Set Target="[PageState.PreferredBackgroundMode]" Value="Color"/><Set Target="[PageState.PreferredBackgroundColor]" Value="Black"/><Set Target="[ItvServicesPanel.Visible]" Value="false"/></Actions></Rule><Default Target="[ItvServicesPanel.Visible]" Value="true"/><Rule><Conditions><Equality Source="[Input.DeepKeyFocus]" ConditionOp="Equals" Value="true"/><Equality Source="[ItvServicesPanel.TakeFocus]" ConditionOp="NotEquals" Value="null"/></Conditions><Actions><Invoke Target="[ItvServicesPanel.TakeFocus.Invoke]" ExclusiveApply="false"/></Actions></Rule><Default Target="[ItvServicesPanel.Source]" Value="@res://ehres!ItvServicesPanel.mcml#ItvServicesPanel"><Conditions><IsValid Source="[PageStackNavigationHelper.PageBasedUCPService]"/></Conditions></Default><Default Target="[Input.MiniGuideHelper.CanShow]" Value="true" /></Rules><Content><Panel><Layout><AnchorLayout SizeToHorizontalChildren="false" SizeToVerticalChildren="false" /></Layout><Children><Panel Name="SafePanel"><LayoutInput><FormLayoutInput Top="[SafeTop]" Left="[SafeLeft]" Right="[SafeRight]" Bottom="[SafeBottom]"/></LayoutInput><Layout><AnchorLayout SizeToHorizontalChildren="false" SizeToVerticalChildren="false" /></Layout><Children><dbg:DebugOverlay Name="Debug" Model="[MediaNavigator]" PageTurner="[Input.DebugHelper.Annex!play:PageTurner]"><LayoutInput><AnchorLayoutInput Left="Parent,0" Right="Parent,1" Bottom="Parent,1"/></LayoutInput></dbg:DebugOverlay><seekbar:SeekBarView Name="SeekBar" Model="[SeekBarModel]" SeekBarHelper="[Input.SeekBarHelper]" Visible="false"><LayoutInput><AnchorLayoutInput Left="Parent,0" Right="Parent,1" Bottom="Parent,1"/></LayoutInput></seekbar:SeekBarView><Panel><LayoutInput><AnchorLayoutInput Horizontal="Center" Top="Parent,0,25"/></LayoutInput><Children><easinfobar:EASInfoBar Name="EasInfoBar" Model="[EasInfoBarModel]" Visible="false" /></Children></Panel><Panel><LayoutInput><AnchorLayoutInput Right="Parent,1,-25" Top="Parent,0,-11"/></LayoutInput><Children><infobarbase:HintingClock Name="Clock" /></Children></Panel><videozoom:ZoomMode Name="ZoomMode" Model="[MediaNavigator]" Helper="[Input.ZoomModeHelper]" Visible="true"/></Children></Panel><Panel Name="TouchPanel" TouchInteractive="true"><LayoutInput><AnchorLayoutInput Left="Parent,0" Right="Parent,1" Top="Parent,0,70" Bottom="Parent,1,-70"/></LayoutInput></Panel><Panel Name="PriorityOverlaysPanel"><LayoutInput><AnchorLayoutInput Left="Parent,0" Right="Parent,1" Top="Parent,0" Bottom="Parent,1"/></LayoutInput><Layout><AnchorLayout SizeToHorizontalChildren="false" SizeToVerticalChildren="false" /></Layout><Children><Panel><LayoutInput><AnchorLayoutInput AnchorLayoutInput="[InfoBarAnchorLayoutInput]"/></LayoutInput><Children><infobarhinting:InfoBarHinting Name="InfoBar" Model="[InfoBarModel]" Model1="[MediaNavigator]" Helper="[Input.DigitEntryHelper]" TunerPolicy="[Input.TunerPolicy]" NowPlaying="[NowPlaying]" Visible="false" /></Children></Panel></Children></Panel><adisp:TVAnnouncementDisplay Name="AnnouncementDisplay" Dispatcher="[AnnouncementDispatcher]" Session="[MediaNavigator.Model!play:MediaSession]" FullScreenTVBehavior="[Input]"><LayoutInput><AnchorLayoutInput Left="Parent,0" Right="Parent,1" Top="Parent,0" Bottom="Parent,1"/></LayoutInput></adisp:TVAnnouncementDisplay><Panel Name="OverlaysPanel"><LayoutInput><AnchorLayoutInput Left="Parent,0" Right="Parent,1" Top="Parent,0" Bottom="Parent,1"/></LayoutInput><Layout><AnchorLayout SizeToHorizontalChildren="false" SizeToVerticalChildren="false" /></Layout><Children><buffering:BufferingIndicator Name="BufferingIndicator" Model="[MediaNavigator.Model!play:MediaSession]"><LayoutInput><AnchorLayoutInput Right="Parent,1" Bottom="Parent,1,-100"/></LayoutInput></buffering:BufferingIndicator></Children></Panel><adisp:DigitalAudioOverlay Name="DigitalAudioOverlay" MediaSession="[MediaNavigator.Model!play:MediaSession]" MediaMonitor="[MediaMonitor]" PageState="[PageState]"><LayoutInput><AnchorLayoutInput Left="Parent,0" Right="Parent,1" Top="Parent,0" Bottom="Parent,1"/></LayoutInput></adisp:DigitalAudioOverlay><Panel Name="ActivePanel"><LayoutInput><FormLayoutInput Top="[ActiveTop]" Left="[ActiveLeft]" Right="[ActiveRight]" Bottom="[ActiveBottom]"/></LayoutInput><Layout><AnchorLayout SizeToHorizontalChildren="false" SizeToVerticalChildren="false" /></Layout><Children><subtitles:DibPaneFitToVideo Name="DibPaneSuperimpose" Session="[MediaNavigator.Model!play:MediaSession]"><LayoutInput><AnchorLayoutInput Left="Parent,0" Right="Parent,1" Top="Parent,0" Bottom="Parent,1"/></LayoutInput></subtitles:DibPaneFitToVideo><subtitles:DibPaneFitToVideo Name="DibPaneActive" Session="[MediaNavigator.Model!play:MediaSession]"><LayoutInput><AnchorLayoutInput Left="Parent,0" Right="Parent,1" Top="Parent,0" Bottom="Parent,1"/></LayoutInput></subtitles:DibPaneFitToVideo><itv:ItvServicesPanelBase Name="ItvServicesPanel" Session="[MediaNavigator.Model!play:MediaSession]" FullScreenTVBehavior="[Input]" MediaNavigator="[MediaNavigator]"><LayoutInput><AnchorLayoutInput Left="Parent,0" Right="Parent,1" Top="Parent,0" Bottom="Parent,1"/></LayoutInput></itv:ItvServicesPanelBase><cc:CCView Name="CCOverlay" Model="null"><LayoutInput><AnchorLayoutInput Left="Parent,0" Right="Parent,1" Top="Parent,0" Bottom="Parent,1"/></LayoutInput></cc:CCView><teletext:TeletextUI Name="TeletextUI" Session="[MediaNavigator.Model!play:MediaSession]" FullScreenTVBehavior="[Input]" MediaMonitor="[MediaMonitor]" /><teletext:TeletextView Name="TeletextOverlay" Model="null"><LayoutInput><AnchorLayoutInput Left="Parent,0" Right="Parent,1" Top="Parent,0" Bottom="Parent,1"/></LayoutInput></teletext:TeletextView><Panel Name="VideoPanel"><LayoutInput><FormLayoutInput Left="[VideoLeft]" Top="[VideoTop]" Right="[VideoRight]" Bottom="[VideoBottom]"/></LayoutInput><Layout><AnchorLayout SizeToHorizontalChildren="false" SizeToVerticalChildren="false" /></Layout><Children><subtitles:DibPaneFitToScreen Name="DibPaneVideo" Session="[MediaNavigator.Model!play:MediaSession]"><LayoutInput><AnchorLayoutInput Left="Parent,0" Right="Parent,1" Top="Parent,0" Bottom="Parent,1"/></LayoutInput></subtitles:DibPaneFitToScreen><ColorFill Name="VideoColor"><LayoutInput><AnchorLayoutInput Left="Parent,0" Right="Parent,1" Top="Parent,0" Bottom="Parent,1"/></LayoutInput></ColorFill><Graphic Name="VideoImage"><LayoutInput><AnchorLayoutInput Left="Parent,0" Right="Parent,1" Top="Parent,0" Bottom="Parent,1"/></LayoutInput></Graphic><Video Name="Video"><LayoutInput><AnchorLayoutInput Left="Parent,0" Right="Parent,1" Top="Parent,0" Bottom="Parent,1"/></LayoutInput></Video></Children></Panel></Children></Panel></Children></Panel></Content></UI></Mcml>