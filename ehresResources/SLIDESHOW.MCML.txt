<Mcml xmlns="http://schemas.microsoft.com/2006/mcml" xmlns:draw="assembly://Microsoft.MediaCenter.UI/Microsoft.MediaCenter.UI.Drawing" xmlns:photosvideos="assembly://ehshell/MediaCenter.PhotosVideosShared" xmlns:comm="res://Microsoft.MediaCenter.Shell!Globals.mcml" xmlns:rating="res://ehres!Audio.StarRating.mcml" xmlns:cor ="assembly://MsCorLib/System" xmlns:coll="assembly://MsCorLib/System.Collections" xmlns:audio ="assembly://ehshell/MediaCenter.Audio" xmlns:button ="res://Microsoft.MediaCenter.Shell!Button.mcml" xmlns:shl ="assembly://Microsoft.MediaCenter.Shell/Microsoft.MediaCenter.Shell" xmlns:base="res://ehres!InfoBarBase.mcml" xmlns:me="Me"><Font Name="ErrorFont" FontName="global://comm:MainFontFace" FontSize="20" /><Font Name="ErrorFontPIP" FontName="global://comm:MainFontFace" FontSize="14" /><Font Name="CaptionNameFont" FontName="global://comm:MainFontFace" FontSize="22" /><Font Name="CaptionDateFont" FontName="global://comm:MainFontFace" FontSize="18" /><Font Name="OverlayNameFont" FontName="global://comm:MainFontFace" FontSize="22" /><Font Name="OverlayAlbumFont" FontName="global://comm:MainFontFace" FontSize="18" /><Font Name="OverlayArtistFont" FontName="global://comm:RegularFontFace" FontSize="18" /><UI Name="SlideshowPage"><Properties><shl:PageState Name="PageState" PageState="null"/><photosvideos:SlideshowPlayer Name="Model" SlideshowPlayer="null" /><cor:Boolean Name="IsInset" cor:Boolean="false"/><cor:Boolean Name="ShowChevrons" cor:Boolean="true"/></Properties><Locals><FormLayoutInput Name="ImagePosition" Top="Parent, -0.25, 0" Left="Parent, -0.25, 0" Right="Parent,1.25,0" Bottom="Parent,1.25,0" ContributesToWidth="false" ContributesToHeight="false"/><Timer Name="NavigationTimer" AutoRepeat="false" Interval="1000" Enabled="false" /><Environment Name="Environment"/></Locals><Rules><Default Target="[PageState.RespectOverscanMargins]" Value="false"><Conditions><IsValid Source="[PageState.RespectOverscanMargins]" /></Conditions></Default><Binding Source="[Model.ImageList]" Target="[Repeater.Source]"/><Binding Source="[IsInset]" Target="[BackgroundFill.Visible]"><Transformer><BooleanTransformer Inverse="true"/></Transformer></Binding><Binding Source="[Model.BackgroundColor]" Target="[BackgroundFill.Content]"/><Binding Source="[Model.PauseVisible]" Target="[PauseIndicator.Visible]"><Conditions><Equality Source="[IsInset]" Value="false"/></Conditions></Binding><Binding Source="[Model.ErrorVisible]" Target="[ErrorPanel.Visible]" ><Conditions><Equality Source="[IsInset]" Value="false"/></Conditions></Binding><Default Target="[ErrorPanel.Visible]" Value="false"/><Binding Source="[Model.ErrorVisible]" Target="[ErrorPanelPIP.Visible]" ><Conditions><Equality Source="[IsInset]" Value="true"/></Conditions></Binding><Default Target="[ErrorPanelPIP.Visible]" Value="false"/><Binding Source="[Model.ErrorText]" Target="[ErrorText.Content]"/><Binding Source="[Model.ErrorTextPIP]" Target="[ErrorTextPIP.Content]"/><Binding Source="[Model.CaptionVisible]" Target="[CaptionPanel.Visible]"><Conditions><Equality Source="[IsInset]" Value="false"/></Conditions></Binding><Rule><Conditions><IsValid Source="[Model.SongInfo]"/><Equality Source="[IsInset]" Value="false"/><Equality Source="[Model.SongInfo.Visible]" Value="true"/><Modified Source="[Model.SongInfo.Visible]" InitialEvaluate="true"/></Conditions><Actions><Set Target="[SongInfoPanel.Visible]" Value="true"/></Actions></Rule><Default Target="[SongInfoPanel.Visible]" Value="false"/><Rule><Conditions><Equality Source="[Environment.IsMouseActive]" Value="True"/><Equality Source="[ShowChevrons]" Value="True"/><Equality Source="[IsInset]" Value="False"/></Conditions><Actions><Set Target="[NextPhotoChevron.Visible]" Value="true" /><Set Target="[PrevPhotoChevron.Visible]" Value="true" /><Set Target="[NavigationTimer.Enabled]" Value="False"/></Actions></Rule><Changed Source="[Environment.IsMouseActive]"><Conditions><Equality Source="[Environment.IsMouseActive]" Value="False" /></Conditions><Actions><Set Target="[NavigationTimer.Enabled]" Value="True" /><Invoke Target="[NavigationTimer.Start]" InvokePolicy="AsynchronousLowPri"/></Actions></Changed><Changed Source="[NavigationTimer.Tick]" InitialEvaluate="false"><Actions><Set Target="[NextPhotoChevron.Visible]" Value="false" /><Set Target="[PrevPhotoChevron.Visible]" Value="false" /></Actions></Changed></Rules><Content><Panel Layout="Form"><Children><Panel Name="TouchPanel" TouchInteractive="true"><LayoutInput><AnchorLayoutInput Left="Parent,0" Right="Parent,1" Top="Parent,0,70" Bottom="Parent,1,-70"/></LayoutInput></Panel><me:PauseIndicator Name="PauseIndicator" Visible="false"><LayoutInput><FormLayoutInput Bottom="Parent, 1, -20" Left="Parent, 0, 20" /></LayoutInput></me:PauseIndicator><me:SlideshowCaption Name="CaptionPanel" Model="[Model.Caption]" Visible="false"><LayoutInput><FormLayoutInput Top="Parent, 0, 33" Left="Parent, 0, 33" /></LayoutInput></me:SlideshowCaption><me:SongInfoBar Name="SongInfoPanel" Model="[Model.SongInfo]" Visible="false"><LayoutInput><FormLayoutInput Top="Parent, 0, 397" Left="Parent, 0, 0" /></LayoutInput></me:SongInfoBar><ColorFill Name="ErrorPanel" Layout="Fill" Content="color://comm:DenialBackground"><Children><Panel Name="TextArea" Layout="Center"><Children><Text Name="ErrorText"><Font>font://me:ErrorFont</Font><Color>color://comm:OffWhite</Color></Text></Children></Panel></Children></ColorFill><ColorFill Name="ErrorPanelPIP" Layout="Fill" Content="color://comm:DenialBackground"><Children><Panel Name="TextAreaPIP" Layout="Center"><Children><Text Name="ErrorTextPIP"><Font>font://me:ErrorFontPIP</Font><Color>color://comm:OffWhite</Color></Text></Children></Panel></Children></ColorFill><Panel Name="PrevPhotoChevron" Visible="false"><LayoutInput><AnchorLayoutInput Bottom="Parent, 1" Left="Parent, 0, 30" Top="Parent, 0" Vertical="Center" /></LayoutInput><Children><button:Button Name="Prev" Model="[Model.CommandPrevPhoto]" NoFocusImage="image://me:ChevronLeftFocusImage" FocusImage="image://me:ChevronLeftFocusImage" PressedImage="image://me:ChevronLeftPressedImage" TileSize="38,44" AccessibilityName="PrevChevron" KeyInteractive="false"/></Children><Animations><Animation Animation="animation://me:Chevron.Show"/><Animation Animation="animation://me:Chevron.Hide"/></Animations></Panel><Panel Name="NextPhotoChevron" Visible="false"><LayoutInput><AnchorLayoutInput Bottom="Parent, 1" Top="Parent, 0" Right="Parent, 1, -30" Vertical="Center" /></LayoutInput><Children><button:Button Name="Next" Model="[Model.CommandNextPhoto]" NoFocusImage="image://me:ChevronRightFocusImage" FocusImage="image://me:ChevronRightFocusImage" PressedImage="image://me:ChevronRightPressedImage" AccessibilityName="NextChevron" TileSize="38,44" KeyInteractive="false"/></Children><Animations><Animation Animation="animation://me:Chevron.Show"/><Animation Animation="animation://me:Chevron.Hide"/></Animations></Panel><Repeater Name="Repeater" Source="[Model.ImageList]" Layout="Fill"><Content><me:SlideshowImage Model="[RepeatedItem!photosvideos:SlideshowImage]" Player="[Model]" BackgroundFillColor="[Model.BackgroundColor]" AnimationProvider="[Model.AnimationProvider]" Index="[RepeatedItemIndex]"><LayoutInput><FormLayoutInput FormLayoutInput="[ImagePosition]"/></LayoutInput></me:SlideshowImage></Content></Repeater><ColorFill Name="BackgroundFill" Layout="Fill" /></Children></Panel></Content></UI><UI Name="SlideshowImage"><Properties><Index Name="Index" Index="$Required"/><Color Name="BackgroundFillColor" Color="Black"/><photosvideos:SlideshowImage Name="Model" SlideshowImage="null" /><photosvideos:SlideshowPlayer Name="Player" SlideshowPlayer="null" /><photosvideos:SlideshowAnimationProvider Name="AnimationProvider" SlideshowAnimationProvider="null"/></Properties><Rules><Binding Source="[Model.Image.Values.#Default!Image]" Target="[Image.Content]"><Conditions><Modified Source="[Model.Image]" InitialEvaluate="true"/><IsValid Source="[Model.Image]" /></Conditions></Binding><Rule><Conditions><Modified Source="[Index.Value]" InitialEvaluate="true"/><Equality Source="[Index.Value]" Value="0"/></Conditions><Actions><Invoke Target="[ImageBackground.AttachAnimation]" animation="[AnimationProvider]" InvokePolicy="Synchronous" ExclusiveApply="false"/></Actions></Rule><Rule><Conditions><IsValid Source="[Player]" /><Modified Source="[Player.Paused]" /><Equality Source="[Player.Paused]" ConditionOp="Equals" Value="true" /></Conditions><Actions><Invoke Target="[ImageBackground.DetachAnimation]" type="Idle" InvokePolicy="Synchronous" ExclusiveApply="false"/></Actions></Rule><Rule><Conditions><IsValid Source="[Player]" /><Modified Source="[Player.ZoomData]" /><Equality Source="[Player.ZoomData.Zoomed]" ConditionOp="Equals" Value="true" /></Conditions><Actions><Invoke Target="[ImageBackground.DetachAnimation]" type="Idle" InvokePolicy="Synchronous" ExclusiveApply="false"/><Set Target="[ImageBackground.Alpha]" Value="1.0"/></Actions></Rule><Rule><Conditions><IsValid Source="[Player]" /><Modified Source="[Player.ZoomData]" /></Conditions><Actions><Set Target="[Image.CenterPointOffset]" Value="[Player.ZoomData.CenterPointOffset]"/><Set Target="[Image.Scale]" Value="[Player.ZoomData.Scale]"/></Actions></Rule><Rule><Conditions><Modified Source="[Index.Value]"/><Equality Source="[Index.Value]" ConditionOp="NotEquals" Value="0"/></Conditions><Actions><Invoke Target="[ImageBackground.DetachAnimation]" type="Idle" InvokePolicy="Synchronous" ExclusiveApply="false"/><PlayAnimation Target="[ImageBackground]"><Animation><Animation><Keyframes><AlphaKeyframe Time="0.0" Value="1.0" RelativeTo="Current"/><AlphaKeyframe Time="1.0" Value="0.0" RelativeTo="Final"/></Keyframes></Animation></Animation></PlayAnimation></Actions></Rule></Rules><Content><ColorFill Name="ImageBackground" Content="[BackgroundFillColor]" Layout="Form"><Children><Graphic Name="Image" MaintainAspectRatio="true" SizingPolicy="SizeToConstraint" /></Children></ColorFill></Content></UI><UI Name="DropShadowedText"><Properties><cor:String Name="AccName" String="$Required" /><cor:String Name="AccDescription" String="$Required" /><cor:String Name="Content" String="" /><Font Name="Font" FontName="global://comm:MainFontFace" FontSize="18" /><Color Name="Color" Color="color://comm:GalleryFolderLabelFocus"/><cor:Boolean Name="Shadow" Boolean="true"/></Properties><Rules><Binding Target="[Front.Content]" Source="[Content]" /><Binding Target="[Back.Content]" Source="[Content]" /><Binding Target="[Back.Visible]" Source="[Shadow]" /><Binding Target="[Front.Font]" Source="[Font]" /><Binding Target="[Back.Font]" Source="[Font]" /><Binding Target="[Accessible.Value]" Source="[Content]" /><Binding Target="[Accessible.Name]" Source="[AccName]" /><Binding Target="[Accessible.Description]" Source="[AccDescription]" /></Rules><Content><Panel><Children><Text Name="Front" Font="[Font]" Color="[Color]" /><Text Name="Back" Color="Black" Alpha="0.7" Margins="2,2,0,0"/></Children></Panel></Content></UI><UI Name="SlideshowCaption"><Properties><photosvideos:SlideshowCaption Name="Model" SlideshowCaption="null" /></Properties><Locals><shl:ShellData Name="ShellData"/><AnchorEdge Name="SafeTop" Id="Parent" Percent="0"/><AnchorEdge Name="SafeLeft" Id="Parent" Percent="0"/></Locals><Rules><Binding Source="[Model.Title]" Target="[TitleText.Content]"/><Binding Source="[Model.Date]" Target="[DateText.Content]"/><Binding Target="[SafeTop.Offset]" Source="[ShellData.OverscanMargins.Top]"/><Binding Target="[SafeLeft.Offset]" Source="[ShellData.OverscanMargins.Left]"/></Rules><Content><Panel Layout="Form"><Animations><Animation Type="Show"><Keyframes><AlphaKeyframe Time="0.0" Value="0" RelativeTo="Absolute" /><AlphaKeyframe Time="0.5" RelativeTo="Final" /></Keyframes></Animation><Animation Type="Hide"><Keyframes><AlphaKeyframe Time="0.0" RelativeTo="Current" /><AlphaKeyframe Time="0.5" Value="0" RelativeTo="Absolute" /></Keyframes></Animation></Animations><Children><Panel Padding="10,0,0,0"><Layout><FlowLayout Orientation="Vertical" ItemAlignment="Near"/></Layout><LayoutInput><FormLayoutInput Top="[SafeTop]" Left="[SafeLeft]"/></LayoutInput><Children><me:DropShadowedText Name="TitleText" AccName="res://ehres!Acc_Name_SlideshowCaption_Title" AccDescription="[Model.Title]" Font="font://me:CaptionNameFont" Color="color://comm:OffWhite"/><me:DropShadowedText Name="DateText" AccName="res://ehres!Acc_Name_SlideshowCaption_Date" AccDescription="[Model.Date]" Font="font://me:CaptionDateFont" Color="color://comm:OffWhite"/><rating:StarRating Name="Rating" Rating="[Model.RatingValue]" Margins="0,9,0,0" Shadowed="false"/></Children></Panel></Children></Panel></Content></UI><UI Name="SongInfoBar"><Properties><photosvideos:SongInfo Name="Model" SongInfo="null" /><Image Name="DefaultAlbumCover" Image="res://ehres!audio.NoCover.png"/></Properties><Locals><AnchorEdge Name="SafeLeft" Id="Parent" Percent="0"/><shl:ShellData Name="ShellData"/></Locals><Rules><Binding Source="[Model.Title]" Target="[TitleText.Content]"/><Binding Source="[Model.Title]" Target="[TitleText.AccDescription]"/><Binding Source="[Model.Artist]" Target="[ArtistText.Content]"/><Binding Source="[Model.Artist]" Target="[ArtistText.AccDescription]"/><Binding Source="[Model.Album]" Target="[AlbumText.Content]"/><Binding Source="[Model.Album]" Target="[AlbumText.AccDescription]"/><Binding Target="[SafeLeft.Offset]" Source="[ShellData.OverscanMargins.Left]"/><Rule><Conditions><IsValid Source="[Model.Title]"/><Modified Source="[Model.AlbumCover]" InitialEvaluate="true"/></Conditions><Actions><Set Target="[AlbumCover.Content]" Value="[Model.AlbumCover]"/></Actions></Rule></Rules><Content><Clip Orientation="Horizontal" ShowNear="false" ShowFar="true" FadeSize="200"><Layout><FlowLayout Orientation="Vertical" ItemAlignment="Near"/></Layout><Animations><Animation Type="Show"><Keyframes><AlphaKeyframe Time="0.0" Value="0" RelativeTo="Absolute" /><AlphaKeyframe Time="0.5" RelativeTo="Final" /></Keyframes></Animation><Animation Type="Hide"><Keyframes><AlphaKeyframe Time="0.0" RelativeTo="Current" /><AlphaKeyframe Time="0.5" Value="0" RelativeTo="Absolute" /></Keyframes></Animation></Animations><Children><Panel Layout="Anchor" ><Children><Graphic Name="TopShadow" MaximumSize="643,85" MinimumSize="643,85" Content="image://me:BackgroundTopShadow"><Animations><Animation Animation="animation://comm:Menu.QuickFade.Show"/><Animation Animation="animation://base:InfoBar.Metadata.Hide"/></Animations><LayoutInput><AnchorLayoutInput Top="Parent,0" Left="Parent,0"/></LayoutInput></Graphic><Graphic Name="Outline" Padding="46,36,150,0" MaximumSize="639,220" MinimumSize="639,220" Content="image://me:Background" Layout="Form"><Animations><Animation Animation="animation://comm:Menu.QuickFade.Show"/><Animation Animation="animation://base:InfoBar.Metadata.Hide"/></Animations><LayoutInput><AnchorLayoutInput Top="TopShadow,1" Left="Parent,0"/></LayoutInput><Children><Panel><Layout><FlowLayout Orientation="Horizontal" AllowWrap="false" ItemAlignment="Near" /></Layout><LayoutInput><FormLayoutInput Top="Parent,0" Left="[SafeLeft]" Right="Parent,1" Bottom="Parent,1"/></LayoutInput><Children><Graphic Name="AlbumCover" Content="[DefaultAlbumCover]" MinimumSize="85,85" MaximumSize="85,85" Margins="0,0,20,0"/><Panel Margins="0,-7,0,0"><Layout><FlowLayout Orientation="Vertical" AllowWrap="false" ItemAlignment="Near"/></Layout><Children><me:DropShadowedText Name="TitleText" AccName="res://ehres!Acc_Name_SongInfo_Title" AccDescription="[Model.Title]" Font="font://me:OverlayNameFont" Color="color://comm:OffWhite" Shadow="false" /><me:DropShadowedText Name="AlbumText" AccName="res://ehres!Acc_Name_SongInfo_Album" AccDescription="[Model.Album]" Font="font://me:OverlayAlbumFont" Color="color://comm:OffWhite" Shadow="false" /><me:DropShadowedText Name="ArtistText" AccName="res://ehres!Acc_Name_SongInfo_Artist" AccDescription="[Model.Artist]" Font="font://me:OverlayArtistFont" Color="color://comm:GuideMediumBlueHC" Shadow="false" /><rating:StarRating Name="Rating" Rating="[Model.RatingValue]" Margins="0,6,0,0" Shadowed="false"/></Children></Panel></Children></Panel></Children></Graphic></Children></Panel></Children></Clip></Content></UI><UI Name="PauseIndicator"><Locals><Image Name="PauseIcon" Image="res://ehres!Common.TransportFeedback.Pause.png"/></Locals><Content><Graphic Image="[PauseIcon]" MaintainAspectRatio="true" ><Animations><Animation Type="Show"><Keyframes><AlphaKeyframe Time="0.0" Value="0" RelativeTo="Absolute" /><AlphaKeyframe Time="0.3" RelativeTo="Final" /></Keyframes></Animation><Animation Type="Hide"><Keyframes><AlphaKeyframe Time="0.0" RelativeTo="Current" /><AlphaKeyframe Time="0.3" Value="0" RelativeTo="Absolute" /></Keyframes></Animation></Animations></Graphic></Content></UI><Image Name="ChevronLeftFocusImage" Source="res://ehres!AutoScroll.Chevron.Left.png" Flippable="true"/><Image Name="ChevronLeftPressedImage" Source="res://ehres!AutoScroll.Chevron.Left.Pressed.png" Flippable="true"/><Image Name="ChevronRightFocusImage" Source="res://ehres!AutoScroll.Chevron.Right.png" Flippable="true"/><Image Name="ChevronRightPressedImage" Source="res://ehres!AutoScroll.Chevron.Right.Pressed.png" Flippable="true"/><Image Name="Background" Source="res://ehres!NP_Hinting_Background.png" Flippable="true" /><Image Name="BackgroundTopShadow" Source="res://ehres!NP_Hinting_Background_TopShd.png" Flippable="true" /><Animation Name="Chevron.Hide" Type="Hide"><Keyframes><AlphaKeyframe Time="0.0" Value="1.0"/><AlphaKeyframe Time="0.5" Value="0.0"/></Keyframes></Animation><Animation Name="Chevron.Show" Type="Show"><Keyframes><AlphaKeyframe Time="0.0" Value="0.0"/><AlphaKeyframe Time="0.5" Value="1.0"/></Keyframes></Animation></Mcml>