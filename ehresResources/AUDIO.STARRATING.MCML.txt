<Mcml xmlns ="http://schemas.microsoft.com/2008/mcml" xmlns:cor ="assembly://MsCorLib/System" xmlns:draw ="assembly://Microsoft.MediaCenter.UI/Microsoft.MediaCenter.UI.Drawing" xmlns:shell ="assembly://Microsoft.MediaCenter.Shell/Microsoft.MediaCenter.Shell" xmlns:browse ="assembly://Microsoft.MediaCenter.Shell/Microsoft.MediaCenter.Shell.Browse" xmlns:util ="assembly://Microsoft.MediaCenter.UI/Microsoft.MediaCenter.UI.Utility" xmlns:audio ="assembly://ehshell/MediaCenter.Audio" xmlns:me ="Me"><UI Name="ClickableStarRating" BaseUI="me:StarRating"><Properties><cor:Boolean Name="Clickable" Boolean="true" /></Properties></UI><UI Name="StarRating"><Properties><IntRangedValue Name="Rating" IntRangedValue="$Required"/><cor:Boolean Name="Shadowed"/><cor:Boolean Name="Clickable" Boolean="false" /></Properties><Locals><ClickHandler Name="ClickHandler" HandlerStage="Bubbled" /><VirtualList Name="StarList"/></Locals><Rules><Binding Source="[Rating.MaxValue]" Target="[StarList.Count]"/><Default Target="[Accessible.Role]" Value="StaticText"/><Default Target="[Accessible.Name]" Value="res://ehres!Acc_Name_Rating"/><Default Target="[Input.KeyInteractive]" Value="[Clickable]" /><Default Target="[Input.MouseInteractive]" Value="[Clickable]" /><Changed Source="[ClickHandler.Invoked]"><Conditions><Equality Source="[Rating.Value]" ConditionOp="LessThan" Value="[Rating.MaxValue]" /></Conditions><Actions><Set Target="[Rating.Value]" Value="[Rating.Value]" InvokePolicy="Synchronous"><Transformer><MathTransformer AddInt="1"/></Transformer></Set><Invoke Target="[Repeater.ForceRefresh]" /><DebugTrace Message="Audio.StarRating: Rating incremented to {0}"><Params><ObjectPath ObjectPath="[Rating.Value]"/></Params></DebugTrace></Actions></Changed><Changed Source="[ClickHandler.Invoked]"><Conditions><Equality Source="[Rating.Value]" ConditionOp="Equals" Value="[Rating.MaxValue]" /></Conditions><Actions><Set Target="[Rating.Value]" Value="1" /><Invoke Target="[Repeater.ForceRefresh]" /><DebugTrace Message="Audio.StarRating: Rating reset to 1" /></Actions></Changed><Binding Target="[Accessible.Value]" Source="[Rating.Value]"><Transformer><FormatTransformer Format="res://ehres!Acc_Value_Rating"/></Transformer></Binding></Rules><Content><Repeater Name="Repeater" Source="[StarList]"><Layout><LegacyHorizontalFlowLayout ItemAlignment="Center"/></Layout><Content><me:OnOffImage Range="[Rating]" MyIndex="[RepeatedItemIndex]" Shadowed="[Shadowed]"/></Content></Repeater></Content></UI><UI Name="OnOffImage"><Properties><Index Name="MyIndex" Index="$Required"/><IntRangedValue Name="Range" IntRangedValue="$Required"/><cor:Boolean Name="Shadowed"/><draw:BaseImage Name="OnImage" BaseImage="res://ehres!Common.Star.png"/><draw:BaseImage Name="OffImage" BaseImage="res://ehres!Common.StarEmpty.png"/><draw:BaseImage Name="ShadowedOnImage" BaseImage="res://ehres!Common.Star.Shadow.png"/><draw:BaseImage Name="ShadowedOffImage" BaseImage="res://ehres!Common.StarEmpty.Shadow.png"/></Properties><Rules><Rule><Conditions><Equality Source="[Shadowed]" Value="false"/><Equality Source="[Range.Value]" ConditionOp="LessThan" Value="[MyIndex.Value]"><SourceTransformer><MathTransformer Subtract="1"/></SourceTransformer></Equality></Conditions><Actions><Set Target="[Rating.Image]" Value="[OffImage]"/></Actions></Rule><Rule><Conditions><Equality Source="[Shadowed]" Value="true"/><Equality Source="[Range.Value]" ConditionOp="LessThan" Value="[MyIndex.Value]"><SourceTransformer><MathTransformer Subtract="1"/></SourceTransformer></Equality></Conditions><Actions><Set Target="[Rating.Image]" Value="[ShadowedOffImage]"/></Actions></Rule><Rule><Conditions><Equality Source="[Shadowed]" Value="true"/><Equality Source="[Range.Value]" ConditionOp="GreaterThanOrEquals" Value="[MyIndex.Value]"><SourceTransformer><MathTransformer Subtract="1"/></SourceTransformer></Equality></Conditions><Actions><Set Target="[Rating.Image]" Value="[ShadowedOnImage]"/></Actions></Rule><Default Target="[Rating.Image]" Value="[OnImage]"/></Rules><Content><Graphic Name="Rating"/></Content></UI></Mcml>