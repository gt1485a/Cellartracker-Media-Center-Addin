<Mcml xmlns="http://schemas.microsoft.com/2006/mcml" xmlns:cor ="assembly://MSCorLib/System" xmlns:movies="assembly://ehshell/MediaCenter.Movies" xmlns:video ="assembly://ehshell/MediaCenter.Video" xmlns:draw ="assembly://Microsoft.MediaCenter.UI/Microsoft.MediaCenter.UI.Drawing" xmlns:comm ="res://Microsoft.MediaCenter.Shell!Globals.mcml" xmlns:ctl ="res://Microsoft.MediaCenter.Shell!Controls.mcml" xmlns:slide ="res://Microsoft.MediaCenter.Shell!Slide.mcml" xmlns:base ="res://ehres!Slide.Movie.Details.mcml" xmlns:details ="res://ehres!Slide.Details.mcml" xmlns:temp="res://ehres!SlideDeck.Details.mcml" xmlns:me ="Me"><UI Name="Slide_Details_Movie_SimilarMovies" BaseUI="base:Movie_Details_Base"><Properties><cor:String Name="SlideTitle" String="res://ehres!Movie_Details_SimilarMovies" /><cor:String Name="NoDataString" String="res://ehres!Movie_Details_NoSimilarMovies" /></Properties><Rules><Rule><Conditions><Modified Source="[SlideDeck.SimilarMovies.Options]" InitialEvaluate="true" /><Equality Source="[SlideDeck.SimilarMovies.Options.Count]" ConditionOp="GreaterThan" Value="0" /></Conditions><Actions><Set Target="[HasData.Value]" Value="true" /></Actions></Rule></Rules><Content><Panel Layout="Anchor"><Children><base:MediaStaticInfoPanel Name="MediaStaticInfoPanel" SlideDeck="[SlideDeck]"/><base:MediaPosterPanel Name="MediaPosterPanel" SlideDeck="[SlideDeck]"/><base:BrandLogoPanel Name="BrandLogoPanel" SlideDeck="[SlideDeck]"/><base:DolbyiTVLogoPanel Name="DolbyiTVLogoPanel" SlideDeck="[SlideDeck]"/><Graphic Name="SlideBackgroundStripe" MaximumSize="0,263"/><Panel Name="DynamicSlidePanel" Layout="Anchor" ><Children><ctl:AccessibleText Name="NoDataText" AccessibleName="res://ehres!Acc_No_Data_Label" Content=""><LayoutInput><AnchorLayoutInput Left="Parent,0" Top="Parent,0" /></LayoutInput></ctl:AccessibleText><me:ScrollingPanel Name="MainScroller" SlideDeck="[SlideDeck]" /></Children></Panel><base:CommandsPanel Name="CommandsPanel" SlideDeck="[SlideDeck]" FocusOrder="0"/><base:Footer Name="FooterPanel" SlideDeck="[SlideDeck]" /><base:ProviderAttribution Name="ProviderAttributionPanel" SlideDeck="[SlideDeck]" /></Children></Panel></Content></UI><UI Name="ScrollingPanel" BaseUI="base:DeepFocusPanel"><Properties><cor:String Name="FocusAreaName" String="Scroller" /><Size Name="MaximumSize" Size="775,0"/><cor:Single Name="FadeSize" Single="30" /></Properties><Locals><ScrollingData Name="ScrollingData" PageSizedScrollStep="false" /><ScrollingHandler Name="ScrollingHandler" HandleDirectionalKeys="false" HandlerStage="Bubbled" HandleHomeEndKeys="true" GesturePanEnabled="true"/><Environment Name="Environment"/><Command Name="CallbackCommand"/><RepeaterFocusHelper Name="FocusOrderHelper"/><IntRangedValue Name="SelectedIndex" Value="-1"/><IntRangedValue Name="MaxIndex" Value="-1"/></Locals><Rules><Binding Source="[SlideDeck.SimilarMovies.Options]" Target="[SimilarMoviesRepeater.Source]" /><Default Target="[MaxIndex.Value]" Value="[SlideDeck.SimilarMovies.Options.Count]"><Transformer><MathTransformer SubtractInt="1"/></Transformer></Default><Default Target="[FocusOrderHelper.Repeater]" Value="[SimilarMoviesRepeater]"/><Default Target="[ScrollingHandler.ScrollingData]" Value="[ScrollingData]" /><Default Target="[ScrollingData.Repeater]" Value="[SimilarMoviesRepeater]" /><Rule><Conditions><Modified Source="[ScrollingData.CanScrollUp]" InitialEvaluate="true" /><Equality Source="[ScrollingData.CanScrollUp]" Value="true" /></Conditions><Actions><Set Target="[MainScroller.ShowNear]" Value="true" /><Set Target="[MainScroller.ShowFar]" Value="true" /><Set Target="[MainScroller.FocusPadding]" Value="30" /></Actions></Rule><Rule><Conditions><Modified Source="[ScrollingData.CanScrollUp]" /><Equality Source="[ScrollingData.CanScrollUp]" Value="false" /></Conditions><Actions><Set Target="[MainScroller.ShowNear]" Value="true" /><Set Target="[MainScroller.ShowFar]" Value="true" /><Set Target="[MainScroller.NearOffset]" Value="-30" /><Set Target="[MainScroller.Padding]" Value="0,-30,0,0" /></Actions></Rule><Rule><Conditions><Equality Source="[Environment.IsRightToLeft]" Value="true" /><Modified Source="[ScrollingData.CanScrollUp]" /><Equality Source="[ScrollingData.CanScrollUp]" Value="false" /></Conditions><Actions><Set Target="[MainScroller.ShowNear]" Value="true" /><Set Target="[MainScroller.ShowFar]" Value="true" /><Set Target="[MainScroller.FarOffset]" Value="30" /><Set Target="[MainScroller.Padding]" Value="0,30,0,0" /><Set Target="[MainScroller.Margins]" Value="0,0,0,30" /></Actions></Rule><Rule><Conditions><Equality Source="[Environment.IsMouseActive]" Value="true"/></Conditions><Actions><Set Target="[Chevrons.Visible]" Value="true"/></Actions></Rule><Default Target="[MainScroller.ShowNear]" Value="false" /><Default Target="[MainScroller.ShowFar]" Value="true" /><Default Target="[MainScroller.NearOffset]" Value="0" /><Default Target="[MainScroller.FarOffset]" Value="0" /><Default Target="[MainScroller.Margins]" Value="0,0,0,0" /><Default Target="[MainScroller.Padding]" Value="0,0,0,0" /><Binding Target="[MainScroller.AnimationsEnabled]" Source="[ScrollingHandler.IsPanning]"><Transformer><NotTransformer /></Transformer></Binding><Rule><Conditions><Modified Source="[CallbackCommand.Invoked]"/></Conditions><Actions><Invoke Target="[MainScroller.NavigateInto]"/></Actions></Rule></Rules><Content><Panel><Children><slide:VerticalScrollingChevrons Name="Chevrons" ScrollData="[ScrollingData]" Visible="false" CallbackCommand="[CallbackCommand]" SelectedIndex="[SelectedIndex]" FocusOrderHelper="[FocusOrderHelper]" MaxIndex="[MaxIndex]"/><Panel Layout="Anchor" ><Children><Scroller Name="MainScroller" Orientation="Vertical" FadeSize="[FadeSize]" MaximumSize="[MaximumSize]" ScrollingData="[ScrollingData]"><Children><Panel Layout="VerticalFlow"><Animations><Animation Animation="animation://details:Selection.Scroll" /></Animations><Children><Repeater Name="SimilarMoviesRepeater" Padding="0,0,0,30" ><Layout><FlowLayout Orientation="Vertical" Spacing="4,0" /></Layout><Content><me:MovieTile DataItem="[RepeatedItem!movies:MovieDataItem]" SelectedIndex="[SelectedIndex]" CurrentIndex="[RepeatedItemIndex]"><Animations><Animation Animation="animation://details:Selection.Move" /></Animations></me:MovieTile></Content></Repeater></Children></Panel></Children></Scroller></Children></Panel><Panel Name="FillPanel" TouchInteractive="true"><LayoutInput><AnchorLayoutInput Left="Parent, 0" Right="Parent, 1" Top="Parent, 0" Bottom="Parent, 1" ContributesToWidth="false" ContributesToHeight="false"/></LayoutInput></Panel></Children></Panel></Content></UI><UI Name="MovieTile" BaseUI="slide:DeepFocusPanel"><Properties><IntRangedValue Name="SelectedIndex" IntRangedValue="$Required"/><Index Name="CurrentIndex" Index="$Required"/><movies:MovieDataItem Name="DataItem" MovieDataItem="$Required" /><Font Name="Font" FontName="global://comm:MainFontFace" FontSize="18"/><Font Name="SectionFont" FontName="global://comm:RegularFontFace" FontSize="18" /><Font Name="MediaDataFont" FontName="global://comm:MainFontFace" FontSize="14" /><cor:String Name="FocusAreaName" String="DetailsContent" /><FlowLayout Name="MediaDataFocusLayout" Orientation="Vertical" ItemAlignment="Near" StripAlignment="Near" /><FlowLayout Name="TileFocusLayout" Orientation="Horizontal" ItemAlignment="Near" StripAlignment="Near" /><Image Name="Focus" Source="res://ehres!Button.Label.Background.Focus.png" NineGrid="7, 7, 7, 7"/><AnchorLayoutInput Name="LabelBackgroundLayoutInput" ContributesToWidth="false" ContributesToHeight="false" Left="MoviePoster, 0, -3" Top="MoviePoster, 0, -3" Right="MoviePoster, 1, 3" Bottom="MoviePoster, 1, 3"/></Properties><Locals><ClickHandler Name="ClickHandler" /><Environment Name="Environment" /><cor:Boolean Name="IsSelectable" Boolean="false"/><Timer Name="IsSelectableTimer" Interval="50" AutoRepeat="false" Enabled="false" /></Locals><Rules><Rule><Conditions><Modified Source="[IsSelectableTimer.Tick]"/></Conditions><Actions><Set Target="[IsSelectable]" Value="true"/></Actions></Rule><Rule><Conditions><Modified Source="[ClickHandler.Invoked]"/><Equality Source="[IsSelectable]" Value="true"/></Conditions><Actions><PlaySound Sound="res://ehres!Select_a.wav"/><Invoke Target="[DataItem.Invoke]"/></Actions></Rule><Default Target="[Accessible.Name]" Value="[DataItem.Title]" /><Default Target="[Accessible.Role]" Value="PushButton" /><Default Target="[Accessible.DefaultAction]" Value="res://ehres!Acc_DefaultAction_Button"/><Default Target="[Accessible.DefaultActionCommand]" Value="[DataItem]"/><Default Target="[Accessible.IsPressed]" Value="false"/><Binding Target="[Accessible.IsUnavailable]" Source="[DataItem.Available]" ><Transformer><BooleanTransformer Inverse="true"/></Transformer></Binding><Binding Target="[Accessible.IsPressed]" Source="[ClickHandler.Clicking]"/><Binding Target="[Accessible.IsFocusable]" Source="[Input.KeyInteractive]"/><Binding Target="[Accessible.IsFocused]" Source="[Input.KeyFocus]"/><Condition Source="[Input.KeyFocus]" SourceValue="true"><Actions><Set Target="[Tile.MinimumSize]" Value="0,112" /><Set Target="[Tile.Layout]" Value="[TileFocusLayout]"/><Set Target="[MoviePosterPanel.Scale]" Value="1.6,1.6,1" /><Set Target="[MoviePosterPanel.Alpha]" Value="1.0" /><Set Target="[MediaDataFlowPanel.Scale]" Value="1.12,1.12,1" /><Set Target="[MediaDataFlowPanel.Alpha]" Value="1.0" /><Set Target="[MediaDataFlowPanel.Margins]" Value="10,-7,0,0" /><Set Target="[MediaDataFlowPanel.Layout]" Value="[MediaDataFocusLayout]"/><Set Target="[RatingsPanel.Visible]" Value="true" /><Set Target="[MovieName.MaximumSize]" Value="550,0" /><Set Target="[SelectedIndex.Value]" Value="[CurrentIndex.Value]"/></Actions></Condition><Rule><Conditions><Equality Source="[Input.KeyFocus]" Value="true" ConditionOp="ChangedTo"/></Conditions><Actions><Set Target="[IsSelectable]" Value="false"/><Invoke Target="[IsSelectableTimer.Start]"/><PlaySound Sound="res://ehres!Focus_a.wav"/></Actions></Rule><Condition Source="[Input.KeyFocus]" ConditionOp="ChangedTo" SourceValue="false"><Actions><Set Target="[IsSelectable]" Value="false"/></Actions></Condition><Rule><Conditions><IsValid Source="[DataItem.Title]" /><Equality Source="[DataItem.Title.Length]" ConditionOp="GreaterThan" Value="40" /><Equality Source="[Input.KeyFocus]" Value="true" /></Conditions><Actions><Set Target="[MovieName.WordWrap]" Value="true" /></Actions></Rule><Binding Source="[DataItem.Image.Values.#Default!Image]" Target="[MoviePoster.Content]"><Conditions><Modified Source="[DataItem.Image]" InitialEvaluate="true"/><IsValid Source="[DataItem.Image]" /></Conditions></Binding><Binding Source="[DataItem.Title]" Target="[MovieName.Content]" /><Binding Source="[MovieName.Content]" Target="[MovieName.AccessibleValue]"/><Binding Source="[DataItem.ReleaseYear!cor:String]" Target="[ReleaseYear.Content]"><Conditions><Equality Source="[DataItem.ReleaseYear]" Value="1" ConditionOp="GreaterThan"/><Equality Source="[DataItem.IsMovie]" Value="true"/></Conditions></Binding><Binding Source="[DataItem.StarRatingImage!draw:BaseImage]" Target="[MovieStarRating.Image]"><Conditions><IsValid Source="[DataItem.StarRatingImage]"/></Conditions></Binding><Rule><Conditions><IsType Source="[DataItem]" Type="movies:GuideMovieDataItem" /></Conditions><Actions><Set Target="[ShowingInfo.Content]" Value="[DataItem.TimeInfo]"/><Set Target="[ChannelNumber.Content]" Value="[DataItem.ChannelNumber]"><Transformer><FormatTransformer Format="res://ehres!Movie_Details_ChannelWithPrefix"/></Transformer></Set><Set Target="[ChannelCallSign.Content]" Value="[DataItem.ChannelCallSign]" /></Actions></Rule><Rule><Conditions><Equality Source="[Environment.ColorScheme]" ConditionOp="NotEquals" Value="Default" /><Equality Source="[Input.KeyFocus]" Value="true" /></Conditions><Actions><Set Target="[LabelBackgroundGraphic.Visible]" Value="true"/><Set Target="[Tile.Margins]" Value="0,0,0,5" /><Set Target="[MoviePosterPanel.Margins]" Value="-20,0,6,0" /></Actions></Rule><Default Target="[Tile.MinimumSize]" Value="0,70" /><Default Target="[Tile.Margins]" Value="0,0,0,0" /><Default Target="[MoviePoster.Content]" Value="res://ehres!Movie.Icon.Default.png" /><Default Target="[ShowingInfo.Content]" Value="res://ehres!Video_moviesextras_notontv"/><Default Target="[MoviePosterPanel.Scale]" Value="1,1,1"/><Default Target="[MoviePosterPanel.Alpha]" Value="0.7" /><Default Target="[MoviePosterPanel.CenterPointPercent]" Value="1,0,1" /><Default Target="[MoviePosterPanel.Margins]" Value="-20,0,0,0" /><Default Target="[MediaDataFlowPanel.Scale]" Value="1,1,1"/><Default Target="[MediaDataFlowPanel.Alpha]" Value="0.7" /><Default Target="[MediaDataFlowPanel.CenterPointPercent]" Value="0,0,1" /><Default Target="[MediaDataFlowPanel.Margins]" Value="10,7,0,0" /><Default Target="[RatingsPanel.Visible]" Value="false" /><Default Target="[MovieName.WordWrap]" Value="false" /><Default Target="[MovieName.MaximumSize]" Value="594,0" /><Default Target="[MediaDataFlowPanel.Margins]" Value="0,0,0,0" /></Rules><Content><Panel Name="Tile" Layout="HorizontalFlow"><LayoutInput><AnchorLayoutInput Left="Parent,0" Top="Parent,0" /></LayoutInput><Layout><FlowLayout Orientation="Horizontal" ItemAlignment="Center" StripAlignment="Near" /></Layout><Children><Panel Name="MoviePosterPanel" Layout="HorizontalFlow" MaximumSize="70,70"><Animations><Animation Animation="animation://details:Selection.Scale" /></Animations><Layout><FlowLayout Orientation="Horizontal" StripAlignment="Far" /></Layout><Children><Panel Layout="Anchor"><Children><Graphic Name="MoviePoster" MinimumSize="0,70" MaintainAspectRatio="true" AcquiringImage="res://ehres!Movie.Icon.Default.png" /><Graphic Name="LabelBackgroundGraphic" Image="[Focus]" LayoutInput="[LabelBackgroundLayoutInput]" Visible="false"/></Children></Panel></Children></Panel><Panel Name="MediaDataFlowPanel" Layout="VerticalFlow"><Animations><Animation Animation="animation://details:Selection.Scale" /><Animation Animation="animation://details:Selection.Move" /></Animations><Layout><FlowLayout Orientation="Vertical" ItemAlignment="Near" StripAlignment="Center" /></Layout><Children><ctl:AccessibleText Name="MovieName" AccessibleName="res://ehres!Movie_Details_Title_AccessibleName" Content="" Color="color://comm:OffWhite" Font="[Font]" MaximumLines="2" /><Panel Name="RatingsPanel" Layout="HorizontalFlow"><Animations><Animation Animation="animation://details:ShowingShowTile" /></Animations><Children><Text Name="ReleaseYear" Font="[SectionFont]" Color="color://comm:OffWhite" /><Graphic Name="MovieStarRating" MaintainAspectRatio="true" Scale=".95,.95,1" Margins="8,4,0,0" /></Children></Panel><Panel Layout="Anchor"><Children><Text Name="ShowingInfo" Font="[MediaDataFont]" Color="color://comm:OffWhite" /><Text Name="ChannelNumber" Font="[MediaDataFont]" Color="color://comm:OffWhite"><LayoutInput><AnchorLayoutInput Left="ShowingInfo,1,20"/></LayoutInput></Text><Text Name="ChannelCallSign" Font="[MediaDataFont]" Color="color://comm:OffWhite"><LayoutInput><AnchorLayoutInput Left="ChannelNumber,1,14"/></LayoutInput></Text></Children></Panel></Children></Panel></Children></Panel></Content></UI></Mcml>