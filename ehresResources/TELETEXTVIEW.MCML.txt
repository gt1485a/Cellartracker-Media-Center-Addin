<Mcml xmlns="http://schemas.microsoft.com/2006/mcml" xmlns:mv="assembly://ehshell/MediaCenter.Video" xmlns:sb="assembly://ehshell/ServiceBus.UIFramework" xmlns:cor="assembly://mscorlib/System" xmlns:coll="assembly://MSCorLib/System.Collections" xmlns:play="assembly://ehshell/Microsoft.MediaCenter.Playback" xmlns:shell="assembly://Microsoft.MediaCenter.Shell/Microsoft.MediaCenter.Shell" xmlns:comm="res://Microsoft.MediaCenter.Shell!Globals.mcml" xmlns:me="Me"><UI Name="TeletextUI"><Properties><play:MediaSession Name="Session" play:MediaSession="$Required"/><play:FullScreenTVBehavior Name="FullScreenTVBehavior" play:FullScreenTVBehavior="$Required"/><play:MediaMonitor Name="MediaMonitor" play:MediaMonitor="$Required"/><shell:ToolBarItem Name="ToggleTeletext" ToolBarItem="Interactive" /><shell:ToolBarItem Name="Red" ToolBarItem="Red" /><shell:ToolBarItem Name="Green" ToolBarItem="Green" /><shell:ToolBarItem Name="Yellow" ToolBarItem="Yellow" /><shell:ToolBarItem Name="Blue" ToolBarItem="Blue" /><shell:ToolBarItem Name="Reveal" ToolBarItem="Reveal" /><shell:ToolBarItem Name="Hold" ToolBarItem="Hold" /></Properties><Locals><ArrayListDataSet Name="EmptyList"/><ArrayListDataSet Name="ContextMenuItems"><Source><play:ContextMenuID ContextMenuID="ToggleTeletext" /><play:ContextMenuID ContextMenuID="Red" /><play:ContextMenuID ContextMenuID="Green" /><play:ContextMenuID ContextMenuID="Yellow" /><play:ContextMenuID ContextMenuID="Blue" /><play:ContextMenuID ContextMenuID="Reveal" /><play:ContextMenuID ContextMenuID="Hold" /></Source></ArrayListDataSet><ArrayListDataSet Name="ToolBarItems"><Source><shell:ToolBarItem ToolBarItem="[Reveal]" /><shell:ToolBarItem ToolBarItem="[Hold]" /><shell:ToolBarItem ToolBarItem="[Red]" /><shell:ToolBarItem ToolBarItem="[Green]" /><shell:ToolBarItem ToolBarItem="[Yellow]" /><shell:ToolBarItem ToolBarItem="[Blue]" /><shell:ToolBarItem ToolBarItem="[ToggleTeletext]" /></Source></ArrayListDataSet></Locals><Rules><Default Target="[ToggleTeletext.ImageSet]" Value="global://comm:TwoFoot.ToolBars.Teletext"/><Default Target="[ToggleTeletext.AccessibilityName]" Value="res://ehres!Acc_Name_ItvToolbar_InteractiveButton"/><Default Target="[Red.ImageSet]" Value="global://comm:TwoFoot.ToolBars.Red"/><Default Target="[Red.AccessibilityName]" Value="res://ehres!Acc_Name_ItvToolbar_RedButton"/><Default Target="[Green.ImageSet]" Value="global://comm:TwoFoot.ToolBars.Green"/><Default Target="[Green.AccessibilityName]" Value="res://ehres!Acc_Name_ItvToolbar_GreenButton"/><Default Target="[Yellow.ImageSet]" Value="global://comm:TwoFoot.ToolBars.Yellow"/><Default Target="[Yellow.AccessibilityName]" Value="res://ehres!Acc_Name_ItvToolbar_YellowButton"/><Default Target="[Blue.ImageSet]" Value="global://comm:TwoFoot.ToolBars.Blue"/><Default Target="[Blue.AccessibilityName]" Value="res://ehres!Acc_Name_ItvToolbar_BlueButton"/><Default Target="[Reveal.ImageSet]" Value="global://comm:TwoFoot.ToolBars.Reveal"/><Default Target="[Reveal.AccessibilityName]" Value="res://ehres!Acc_Name_ItvToolbar_RevealButton"/><Default Target="[Hold.ImageSet]" Value="global://comm:TwoFoot.ToolBars.Hold"/><Default Target="[Hold.AltImageSet]" Value="global://comm:TwoFoot.ToolBars.Hold.Locked"/><Default Target="[Hold.AccessibilityName]" Value="res://ehres!Acc_Name_ItvToolbar_HoldButton"/><Rule><Conditions><Modified Source="[MediaMonitor.HasTeletext]" InitialEvaluate="true"/><Equality Source="[MediaMonitor.HasTeletext]" Value="true"/></Conditions><Actions><Set Target="[FullScreenTVBehavior.TeletextContextMenuList]" Value="[ContextMenuItems]"/><Set Target="[FullScreenTVBehavior.TeletextToolBarList]" Value="[ToolBarItems]"/></Actions></Rule><Rule><Conditions><Modified Source="[MediaMonitor.HasTeletext]" InitialEvaluate="true"/><Equality Source="[MediaMonitor.HasTeletext]" Value="false"/></Conditions><Actions><Set Target="[FullScreenTVBehavior.TeletextContextMenuList]" Value="[EmptyList]"/><Set Target="[FullScreenTVBehavior.TeletextToolBarList]" Value="[EmptyList]"/></Actions></Rule><Rule ConditionLogicalOp="And"><Conditions><Modified Source="[FullScreenTVBehavior.TeletextToolBarList]" InitialEvaluate="true"/><IsValid Source="[FullScreenTVBehavior.TwoFootToolBarData]"/><Equality Source="[FullScreenTVBehavior!play:FullScreenVideoBehavior.HasFocus]" Value="true"/></Conditions><Actions><Set Target="[FullScreenTVBehavior.TwoFootToolBarData.ItvToolbarList]" Value="[FullScreenTVBehavior.ItvToolBarList]"/></Actions></Rule><Rule ConditionLogicalOp="And"><Conditions><IsValid Source="[Session.TeletextStream]"/><Modified Source="[Session.TeletextStream]" InitialEvaluate="true"/><Equality Source="[Session.TeletextStream.IsHold]" Value="false"/></Conditions><Actions><Set Target="[Hold.EnableAlternate]" Value="false"/><Invoke Target="[FullScreenTVBehavior.ReplaceContextMenuItem]" contextMenuItems="[ContextMenuItems]" oldItem="NotHold" newItem="Hold" propertyChanged="TeletextContextMenuList" ExclusiveApply="false"/></Actions></Rule><Rule ConditionLogicalOp="And"><Conditions><IsValid Source="[Session.TeletextStream]"/><Modified Source="[Session.TeletextStream]" InitialEvaluate="true"/><Equality Source="[Session.TeletextStream.IsHold]" Value="true"/></Conditions><Actions><Set Target="[Hold.EnableAlternate]" Value="true"/><Invoke Target="[FullScreenTVBehavior.ReplaceContextMenuItem]" contextMenuItems="[ContextMenuItems]" oldItem="Hold" newItem="NotHold" propertyChanged="TeletextContextMenuList" ExclusiveApply="false"/></Actions></Rule><Rule ConditionLogicalOp="And"><Conditions><IsValid Source="[Session.TeletextStream]"/><Modified Source="[Session.TeletextStream.IsHold]" InitialEvaluate="true"/><Equality Source="[Session.TeletextStream.IsHold]" Value="false"/></Conditions><Actions><Set Target="[Hold.EnableAlternate]" Value="false"/><Invoke Target="[FullScreenTVBehavior.ReplaceContextMenuItem]" contextMenuItems="[ContextMenuItems]" oldItem="NotHold" newItem="Hold" propertyChanged="TeletextContextMenuList" ExclusiveApply="false"/></Actions></Rule><Rule ConditionLogicalOp="And"><Conditions><IsValid Source="[Session.TeletextStream]"/><Modified Source="[Session.TeletextStream.IsHold]" InitialEvaluate="true"/><Equality Source="[Session.TeletextStream.IsHold]" Value="true"/></Conditions><Actions><Set Target="[Hold.EnableAlternate]" Value="true"/><Invoke Target="[FullScreenTVBehavior.ReplaceContextMenuItem]" contextMenuItems="[ContextMenuItems]" oldItem="Hold" newItem="NotHold" propertyChanged="TeletextContextMenuList" ExclusiveApply="false"/></Actions></Rule></Rules></UI><UI Name="TeletextView"><Properties><mv:CCaptionWindowMgr Name="Model" mv:CCaptionWindowMgr="$Required"/></Properties><Locals><shell:ShellData Name="ShellData"/><ArrayListDataSet Name="EmptyList"/></Locals><Rules><Binding Source="[Model.CaptionWindows]" Target="[Repeater.Source]"><Conditions><IsValid Source="[Model.CaptionWindows]"/></Conditions></Binding><Binding Source="[Model.OverscanColor]" Target="[Root.Content]"><Conditions><IsValid Source="[Model.OverscanColor]"/></Conditions></Binding><Binding Source="[ShellData.TopMarginPercent]" Target="[Model.ActiveTop]"><Conditions><IsValid Source="[Model]"/></Conditions></Binding><Binding Source="[ShellData.LeftMarginPercent]" Target="[Model.ActiveLeft]"><Conditions><IsValid Source="[Model]"/></Conditions></Binding><Binding Source="[ShellData.RightMarginPercent]" Target="[Model.ActiveRight]"><Conditions><IsValid Source="[Model]"/></Conditions></Binding><Binding Source="[ShellData.BottomMarginPercent]" Target="[Model.ActiveBottom]"><Conditions><IsValid Source="[Model]"/></Conditions></Binding></Rules><Content><ColorFill Name="Root"><Layout><CenterLayout/></Layout><Children><Panel Name="Grid"><Children><Repeater Name="Repeater" Source="[EmptyList]"><Content><me:CaptionWindowView Model="[RepeatedItem!mv:CCaptionWindow]"/></Content></Repeater></Children></Panel></Children></ColorFill></Content></UI><UI Name="CaptionWindowView"><Properties><mv:CCaptionWindow Name="Model" CCaptionWindow="$Required"/></Properties><Rules><Binding Source="[Model.ViewItemWindowAttributes]" Target="[Text.WindowAttributes]"/><Binding Source="[Model.ViewItemPenAttributes]" Target="[Text.PenAttributes]"/><Binding Source="[Model.ViewItemMaxLines]" Target="[Text.MaximumLines]"/><Binding Source="[Model.ViewItemText]" Target="[Text.Content]"/><Changed Source="[Model.ViewItemWindowAttributes]" InitialEvaluate="true"><Actions><Set Target="[Root.Content]" Value="[Model.ViewItemWindowAttributes.FillColor]"/><Set Target="[Text.WordWrap]" Value="[Model.ViewItemWindowAttributes.WordWrap]"/></Actions></Changed><Binding Source="[Model.ViewItemVisible]" Target="[Root.Visible]"/></Rules><Content><ColorFill Name="Root" Visible="false"><Children><mv:CCRichTextViewItem Name="Text"/></Children></ColorFill></Content></UI></Mcml>