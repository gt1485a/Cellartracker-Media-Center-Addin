<Mcml xmlns="http://schemas.microsoft.com/2006/mcml" xmlns:cor ="assembly://MsCorLib/System" xmlns:util="assembly://Microsoft.MediaCenter.UI/Microsoft.MediaCenter.UI.Utility" xmlns:shl2="assembly://Microsoft.MediaCenter.UI/Microsoft.MediaCenter.Shell" xmlns:shl ="assembly://Microsoft.MediaCenter.Shell/Microsoft.MediaCenter.Shell" xmlns:ctl ="res://Microsoft.MediaCenter.Shell!Controls.mcml" xmlns:me ="Me"><Aggregate Source="res://Microsoft.MediaCenter.Shell!StartMenuQuickLink.mcml"/><UI Name="QuickLinkStrip"><Properties><shl:StartMenuCategory Name="Model" StartMenuCategory="$Required"/><shl:StartMenu Name="StartMenu" StartMenu="$Required"/><shl:StartMenuCategoryPanHandler Name="StartMenuCategoryPanHandler" StartMenuCategoryPanHandler="$Required"/><shl:QuickLinkPanSettings Name="QuickLinkPanSettings" QuickLinkPanSettings="$Required"/><Index Name="Index" Index="$Required"/><EditableText Name="QuickLinkMode" EditableText="$Required"/><BooleanChoice Name="Arriving" BooleanChoice="$Required"/><BooleanChoice Name="LaunchFlag" BooleanChoice="$Required"/><cor:Boolean Name="EnableMoveAnimation" Boolean="false"/><cor:Int32 Name="ScrollInterval" Int32="500"/><cor:Int32 Name="LeftAutoScrollEdgeOffset"/><cor:Int32 Name="RightAutoScrollEdgeOffset"/><cor:Single Name="MenuDelay" Single="0.4"/></Properties><Locals><Environment Name="Environment"/><ScrollingData Name="FocusScrollData" ScrollStep="90"><ScrollIntoViewDisposition><ScrollIntoViewDisposition LockedPosition="0.0" LockedAlignment="0.0"/></ScrollIntoViewDisposition></ScrollingData><ScrollingData Name="NoFocusScrollData" ScrollStep="90"><ScrollIntoViewDisposition><ScrollIntoViewDisposition LockedPosition="0.0" LockedAlignment="0.0"/></ScrollIntoViewDisposition></ScrollingData><Command Name="ScrollUpCommand"/><Command Name="ScrollDownCommand"/><Size Name="AutoScrollSize" Size="100, 0"/><IntRangedValue Name="SelectedIndex" Value="-1"/><IntRangedValue Name="HoverIndex" Value="-1"/><RepeaterFocusHelper Name="FocusOrderHelper"/><AnchorEdge Name="LeftAutoScrollEdge" Id="Parent" Percent="0" Offset="[LeftAutoScrollEdgeOffset]"/><AnchorEdge Name="RightAutoScrollEdge" Id="Parent" Percent="1" Offset="[RightAutoScrollEdgeOffset]"/><cor:Single Name="LockedPosition" Single="0.0"/><AreaOfInterestLayoutInput Name="AreaOfInterest" Id="Selection"/><KeyHandler Name="Left" Key="Left" Handle="true" HandlerStage="Routed" Enabled="true"/><KeyHandler Name="Right" Key="Right" Handle="true" HandlerStage="Routed" Enabled="true"/><TransformAnimation Name="ReturnAnimation" Source="global://me:Start.LinkStrip.Return"/><cor:Boolean Name="PlayArrival" Boolean="false"/><Timer Name="ArrivingDetachTimer" AutoRepeat="false" Interval="1500" Enabled="false"/><Timer Name="UseQuickLinkShowTimer" AutoRepeat="false" Interval="400" Enabled="true"/><BooleanChoice Name="UseQuickLinkShow" Value="false"/></Locals><Rules><Rule><Conditions><Equality Source="[Arriving.Value]" Value="True"/></Conditions><Actions><Set Target="[PlayArrival]" Value="True"/></Actions></Rule><Rule><Conditions><Equality Source="[LaunchFlag.Value]" Value="false"/><Equality Source="[PlayArrival]" ConditionOp="ChangedTo" Value="True"/></Conditions><Actions><Set Target="[ReturnAnimation.Delay]" Value="[MenuDelay]"/><Invoke Target="[Root.AttachAnimation]" animation="[ReturnAnimation]" InvokePolicy="Synchronous"/><Set Target="[ArrivingDetachTimer.Enabled]" Value="true"/></Actions></Rule><Changed Source="[ArrivingDetachTimer.Tick]"><Actions><Invoke Target="[Root.DetachAnimation]" type="Show" InvokePolicy="AsynchronousLowPri"/></Actions></Changed><Rule><Conditions><Equality Source="[LaunchFlag.Value]" Value="false"/></Conditions><Actions><Invoke Target="[Root.DetachAnimation]" type="Show" InvokePolicy="Synchronous"/></Actions></Rule><Changed Source="[StartMenu.SelectedCategoryIndex.Value]" InitialEvaluate="true"><Conditions><Equality Source="[StartMenu.SelectedCategoryIndex.Value]" Value="[Index.Value]"/><Equality Source="[Index.Value]" Value="[StartMenu.SelectedCategoryIndex.Value]"/></Conditions><Actions><Set Target="[Input.Enabled]" Value="true"/><Invoke Target="[Root.SetLayoutInput]" oNewValue="[AreaOfInterest]" InvokePolicy="Synchronous"/><Set Target="[QuickLinkPanSettings.StartMenuCategory]" Value="[Model]"/><Set Target="[QuickLinkPanSettings.FocusScrollingData]" Value="[FocusScrollData]"/><Set Target="[QuickLinkPanSettings.NoFocusScrollingData]" Value="[NoFocusScrollData]"/></Actions></Changed><Changed Source="[StartMenu.SelectedCategoryIndex.Value]" InitialEvaluate="true"><Conditions><Equality Source="[StartMenu.SelectedCategoryIndex.Value]" ConditionOp="NotEquals" Value="[Index.Value]"/><Equality Source="[Index.Value]" ConditionOp="NotEquals" Value="[StartMenu.SelectedCategoryIndex.Value]"/></Conditions><Actions><Set Target="[Input.Enabled]" Value="false"/><Invoke Target="[Root.SetLayoutInput]" idInput="[AreaOfInterest!ILayoutData.Data]" oNewValue="null" InvokePolicy="Synchronous"/></Actions></Changed><Binding Target="[FocusRepeater.Source]" Source="[Model.Links]"/><Binding Target="[NoFocusRepeater.Source]" Source="[Model.Links]"/><Default Target="[FocusScrollData.Repeater]" Value="[FocusRepeater]"/><Default Target="[NoFocusScrollData.Repeater]" Value="[NoFocusRepeater]"/><Default Target="[FocusScroller.ScrollingData]" Value="[FocusScrollData]"/><Default Target="[NoFocusScroller.ScrollingData]" Value="[NoFocusScrollData]"/><Rule><Conditions><Modified Source="[Left.Invoked]" /><Equality Source="[Environment.IsRightToLeft]" Value="false" /></Conditions><Actions><Invoke Target="[ScrollUpCommand.Invoke]" /></Actions></Rule><Rule><Conditions><Modified Source="[Right.Invoked]" /><Equality Source="[Environment.IsRightToLeft]" Value="false" /></Conditions><Actions><Invoke Target="[ScrollDownCommand.Invoke]" /></Actions></Rule><Rule><Conditions><Modified Source="[Left.Invoked]" /><Equality Source="[Environment.IsRightToLeft]" Value="true" /></Conditions><Actions><Invoke Target="[ScrollDownCommand.Invoke]" /></Actions></Rule><Rule><Conditions><Modified Source="[Right.Invoked]" /><Equality Source="[Environment.IsRightToLeft]" Value="true" /></Conditions><Actions><Invoke Target="[ScrollUpCommand.Invoke]" /></Actions></Rule><Rule><Conditions><Modified Source="[ScrollUpCommand.Invoked]"/></Conditions><Actions><Set Target="[Model.SelectedQuickLinkIndex.Value]" Value="[Model.SelectedQuickLinkIndex.Value]"><Transformer><MathTransformer Subtract="1"/></Transformer></Set></Actions></Rule><Rule><Conditions><Modified Source="[ScrollDownCommand.Invoked]"/></Conditions><Actions><Set Target="[Model.SelectedQuickLinkIndex.Value]" Value="[Model.SelectedQuickLinkIndex.Value]"><Transformer><MathTransformer Add="1"/></Transformer></Set></Actions></Rule><Default Target="[Accessible.Role]" Value="Client"/><Binding Target="[FocusOrderHelper.RequestFocusIndex]" Source="[Model.SelectedQuickLinkIndex.Value]"/><Binding Target="[FocusRepeater.EssentialIndex]" Source="[Model.SelectedQuickLinkIndex.Value]"/><Default Target="[FocusOrderHelper.Repeater]" Value="[NoFocusRepeater]"/><Condition Source="[Model.Links.Count]" SourceValue="1"><Actions><Set Target="[FocusView.ColorMask]" Value="0, 0, 0, 0"/><Set Target="[NoFocusView.Alpha]" Value="0.0"/></Actions></Condition><Condition Source="[Model.Links.Count]" ConditionOp="GreaterThan" SourceValue="1"><Actions><Set Target="[FocusView.ColorMask]" Value="255, 0, 0, 0"/><Set Target="[NoFocusView.Alpha]" Value="1.0"/></Actions></Condition><Condition Source="[EnableMoveAnimation]" SourceValue="true"><Actions><Invoke Target="[FocusRepeater.AttachAnimation]" animation="animation://me:Start.QuickLink.Move"/><Invoke Target="[NoFocusRepeater.AttachAnimation]" animation="animation://me:Start.QuickLink.Move"/></Actions></Condition><Condition Source="[EnableMoveAnimation]" SourceValue="false"><Actions><Invoke Target="[FocusRepeater.DetachAnimation]" type="Move"/><Invoke Target="[NoFocusRepeater.DetachAnimation]" type="Move"/><Set Target="[LockedPosition]" Value="[FocusScrollData.ScrollIntoViewDisposition.LockedPosition]"/></Actions></Condition><Binding Target="[EnableMoveAnimation]" Source="[QuickLinkPanSettings.IsPanning]"><Transformer><BooleanTransformer Inverse="true"/></Transformer></Binding><Changed Source="[StartMenuCategoryPanHandler.RatchetOffset]" InitialEvaluate="true"><Conditions><Equality Source="[StartMenu.SelectedCategoryIndex.Value]" ConditionOp="NotEquals" Value="[Index.Value]"/><Equality Source="[Index.Value]" ConditionOp="NotEquals" Value="[StartMenu.SelectedCategoryIndex.Value]"/><Equality Source="[StartMenuCategoryPanHandler.IncomingIndex]" ConditionOp="NotEquals" Value="[Index.Value]"/></Conditions><Actions><Set Target="[Root.Alpha]" Value="[StartMenuCategoryPanHandler.NotSelectedQuickLinkStripAlpha]"/></Actions></Changed><Rule><Conditions><Equality Source="[StartMenu.SelectedCategoryIndex.Value]" ConditionOp="NotEquals" Value="[Index.Value]"/><Equality Source="[Index.Value]" ConditionOp="NotEquals" Value="[StartMenu.SelectedCategoryIndex.Value]"/><Equality Source="[StartMenuCategoryPanHandler.IncomingIndex]" ConditionOp="NotEquals" Value="[Index.Value]"/></Conditions><Actions><Set Target="[Root.Alpha]" Value="[StartMenuCategoryPanHandler.NotSelectedQuickLinkStripAlpha]"/></Actions></Rule><Changed Source="[StartMenuCategoryPanHandler.RatchetOffset]" InitialEvaluate="true"><Conditions><Equality Source="[StartMenuCategoryPanHandler.IncomingIndex]" Value="[Index.Value]"/></Conditions><Actions><Set Target="[Root.Alpha]" Value="[StartMenuCategoryPanHandler.AdjustedIncomingQuickLinkStripAlpha]"/></Actions></Changed><Changed Source="[StartMenuCategoryPanHandler.RatchetOffset]" InitialEvaluate="true"><Conditions><Equality Source="[StartMenu.SelectedCategoryIndex.Value]" Value="[Index.Value]"/><Equality Source="[Index.Value]" Value="[StartMenu.SelectedCategoryIndex.Value]"/></Conditions><Actions><Set Target="[Root.Alpha]" Value="[StartMenuCategoryPanHandler.AdjustedSelectedQuickLinkStripAlpha]"/></Actions></Changed><Rule><Conditions><Equality Source="[StartMenu.SelectedCategoryIndex.Value]" Value="[Index.Value]"/><Equality Source="[Index.Value]" Value="[StartMenu.SelectedCategoryIndex.Value]"/></Conditions><Actions><Set Target="[Root.Alpha]" Value="[StartMenuCategoryPanHandler.SelectedQuickLinkStripAlpha]"/></Actions></Rule><Rule><Conditions><Equality Source="[Environment.IsRightToLeft]" Value="true" /><Modified Source="[Model.Links.Count]"/><Equality Source="[StartMenu.SelectedCategoryIndex.Value]" Value="[Index.Value]"/><Equality Source="[Index.Value]" Value="[StartMenu.SelectedCategoryIndex.Value]"/></Conditions><Actions><Set Target="[FocusRepeater.AnimationsEnabled]" Value="false" InvokePolicy="Synchronous" ExclusiveApply="false"/><Set Target="[NoFocusRepeater.AnimationsEnabled]" Value="false" InvokePolicy="Synchronous" ExclusiveApply="false"/><Set Target="[FocusRepeater.AnimationsEnabled]" Value="true" InvokePolicy="AsynchronousLowPri"/><Set Target="[NoFocusRepeater.AnimationsEnabled]" Value="true" InvokePolicy="AsynchronousLowPri"/></Actions></Rule><Changed Source="[UseQuickLinkShowTimer.Tick]"><Actions><Set Target="[UseQuickLinkShow.Value]" Value="true"/></Actions></Changed></Rules><Content><Panel Name="Root" Layout="Anchor"><Layout><AnchorLayout SizeToHorizontalChildren="false" SizeToVerticalChildren="true"/></Layout><Children><ctl:AutoScrollRegion ScrollData="[FocusScrollData]" ScrollCommand="[ScrollUpCommand]" LayoutPosition="Left" MaximumSize="[AutoScrollSize]" ScrollInterval="[ScrollInterval]" TakeKeyFocus="false" RestModeEnabled="true" Padding="26, 0, 0, 26"><LayoutInput><AnchorLayoutInput Left="Parent, 0, -999" Right="[LeftAutoScrollEdge]" Top="FocusView, 0" Bottom="FocusView, 1" Horizontal="Far" Vertical="Center" ContributesToWidth="false" ContributesToHeight="false"/></LayoutInput></ctl:AutoScrollRegion><ctl:AutoScrollRegion ScrollData="[FocusScrollData]" ScrollCommand="[ScrollDownCommand]" LayoutPosition="Right" MaximumSize="[AutoScrollSize]" ScrollInterval="[ScrollInterval]" TakeKeyFocus="false" RestModeEnabled="true" Padding="26, 0, 0, 26"><LayoutInput><AnchorLayoutInput Left="[RightAutoScrollEdge]" Right="Parent, 1, 999" Top="FocusView, 0" Bottom="FocusView, 1" Horizontal="Near" Vertical="Center" ContributesToWidth="false" ContributesToHeight="false" /></LayoutInput></ctl:AutoScrollRegion><Gradient Name="FocusView"><LayoutInput><AnchorLayoutInput Horizontal="Near" Vertical="Near"/></LayoutInput><Ramp><RampValue RampValue="0, 0, GadgetMin"/><RampValue RampValue="1, 4, GadgetMin"/><RampValue RampValue="1, 258, GadgetMin"/><RampValue RampValue="0, 259, GadgetMin"/><RampValue RampValue="0, 0, GadgetMax"/></Ramp><Children><Scroller Name="FocusScroller" Orientation="Horizontal" PreferredAreaOfInterest="SelectedQuickLink" Prefetch="0.25" FadeSize="0" ><Children><Repeater Name="FocusRepeater" DiscardOffscreenVisuals="false" Navigation="PreferFocusOrder"><Layout><FlowLayout Orientation="Horizontal" Repeat="Never" RepeatGap="2000, 0" Spacing="138, 0" MissingItemPolicy="SizeToSmallest"/></Layout><Content><me:QuickLinkView Model="[RepeatedItem!shl:StartMenuQuickLink]" StartMenuCategory="[Model]" Index="[RepeatedItemIndex]" QuickLinkCount="[Model.Links.Count]" SelectedIndex="[SelectedIndex]" HoverIndex="[HoverIndex]" QuickLinkMode="[QuickLinkMode]" UseFocusLayout="true" Arriving="[Arriving]" LaunchFlag="[LaunchFlag]" UseQuickLinkShow="[UseQuickLinkShow]" QuickLinkPanSettings="[QuickLinkPanSettings]"><Animations><Animation Animation="animation://me:Start.QuickLink.Move"/></Animations></me:QuickLinkView></Content></Repeater></Children></Scroller></Children></Gradient><Gradient Name="NoFocusView" Alpha="1.0"><LayoutInput><AnchorLayoutInput Horizontal="Near" Vertical="Near"/></LayoutInput><Ramp><RampValue RampValue="0,-200,GadgetMin"/><RampValue RampValue="1,-180,GadgetMin"/><RampValue RampValue="1, -10, GadgetMin"/><RampValue RampValue="0, 0, GadgetMin"/><RampValue RampValue="0, 258, GadgetMin"/><RampValue RampValue="1, 268, GadgetMin"/><RampValue RampValue="1, 0, GadgetMax"/></Ramp><Children><Scroller Name="NoFocusScroller" Orientation="Horizontal" PreferredAreaOfInterest="SelectedQuickLink" Prefetch="0.25" FadeSize="0"><Children><Repeater Name="NoFocusRepeater" DiscardOffscreenVisuals="false" Navigation="None"><Layout><FlowLayout Orientation="Horizontal" Repeat="Never" RepeatGap="2000, 0" Spacing="38, 0" MissingItemPolicy="SizeToSmallest"/></Layout><Content><me:QuickLinkView Model="[RepeatedItem!shl:StartMenuQuickLink]" StartMenuCategory="[Model]" Index="[RepeatedItemIndex]" QuickLinkCount="[Model.Links.Count]" SelectedIndex="[SelectedIndex]" HoverIndex="[HoverIndex]" QuickLinkMode="[QuickLinkMode]" Arriving="[Arriving]" LaunchFlag="[LaunchFlag]" UseQuickLinkShow="[UseQuickLinkShow]" QuickLinkPanSettings="[QuickLinkPanSettings]"><Animations><Animation Animation="animation://me:Start.QuickLink.Move"/></Animations></me:QuickLinkView></Content></Repeater></Children></Scroller></Children></Gradient></Children><Animations><IAnimationProvider IAnimationProvider="global://me:Start.LinkStrip.Launch"/></Animations></Panel></Content></UI></Mcml>