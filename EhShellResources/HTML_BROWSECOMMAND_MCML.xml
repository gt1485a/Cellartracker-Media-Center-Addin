<Mcml xmlns ="http://schemas.microsoft.com/2006/mcml" xmlns:cor ="assembly://MsCorLib/System" xmlns:coll="assembly://MsCorLib/System.Collections" xmlns:std ="assembly://Microsoft.MediaCenter.Shell/Microsoft.MediaCenter.Shell" xmlns:comm="res://Microsoft.MediaCenter.Shell!Globals.mcml" xmlns:ctl ="res://Microsoft.MediaCenter.Shell!Controls.mcml" xmlns:ucp ="assembly://ehshell/ServiceBus.UIFramework" xmlns:me ="Me"><Aggregate Source="res://Microsoft.MediaCenter.Shell!BrowseAnimations.mcml"/><UI Name="CommandList"><Properties><cor:Object Name="DataSource" Object="$Required"/><EditableText Name="FocusArea" EditableText="$Required"/><EditableText Name="TransitionState" EditableText="$Required"/><cor:Boolean Name="InListMaker" Boolean="false"/><FlowLayout Name="CommandLayout" Orientation="Vertical" StripAlignment="Far" /><Vector3 Name="RootScale" Vector3="1.06, 1.06, 1.0"/></Properties><Locals><Environment Name="Environment"/></Locals><Rules><Binding Source="[CommandLayout]" Target="[Repeater.Layout]"/><Rule><Conditions><Equality Source="[Input.DeepKeyFocus]" Value="true"/><Equality Source="[TransitionState.Value]" Value="Idle"/></Conditions><Actions><Set Target="[FocusArea.Value]" Value="Command"/></Actions></Rule><Condition Source="[Environment.Is2DAnimationExperience]" SourceValue="true"><Actions><Invoke Target="[Root.DetachAnimation]" type="Scale"/><Invoke Target="[Root.AttachAnimation]" animation="animation://me:Browse.Command.Scale.GDI" InvokePolicy="Synchronous" ExclusiveApply="false"/></Actions></Condition><Condition Source="[FocusArea.Value]" SourceValue="Command"><Actions><Set Target="[Root.Scale]" Value="[RootScale]"/></Actions></Condition><Binding Source="[DataSource!Choice.ChosenIndex]" Target="[Repeater.DefaultFocusIndex]"><Conditions><IsType Source="[DataSource]" Type="Choice"/></Conditions></Binding><Binding Source="[DataSource!coll:IList]" Target="[Repeater.Source]"><Conditions><IsType Source="[DataSource]" Type="coll:IList"/></Conditions></Binding><Binding Source="[DataSource!Choice.Options]" Target="[Repeater.Source]"><Conditions><IsType Source="[DataSource]" Type="Choice"/></Conditions></Binding></Rules><Content><Panel Name="Root" Scale="1.0, 1.0, 1.0"><Animations><Animation Animation="animation://me:Browse.Command.Scale"/></Animations><Children><Repeater Name="Repeater"><Content><me:CommandButton Model="[RepeatedItem!ICommand]" FocusArea="[FocusArea]" Index="[RepeatedItemIndex]" InListMaker="[InListMaker]" DataSource="[DataSource]"/></Content></Repeater></Children></Panel></Content></UI><UI Name="CommandButton" BaseUI="ctl:Button"><Properties><EditableText Name="FocusArea" EditableText="$Required"/><Image Name="NoFocusImage" Image="null"/><Image Name="FocusImage" Image="null"/><Image Name="DisabledImage" Image="null"/><Image Name="FocusOverlayImage" Image="null"/><Image Name="PressedImage" Image="null"/><Color Name="FocusColor" Color="color://comm:OffWhite"/><Color Name="NoFocusColor" Color="color://comm:LightBlue"/><Color Name="DormantColor" Color="color://comm:MediumBlue"/><Size Name="TileSize" Size="500, 35"/><cor:Boolean Name="ShowLabelBackground" Boolean="true"/><cor:Boolean Name="AllowMarquee" Boolean="false"/><cor:Boolean Name="AllowPressedEffect" Boolean="false"/><Vector3 Name="ShrinkScale" Vector3="0.95, 0.95, 1.0"/><Inset Name="LabelMargins" Inset="9, 2, 0, 0"/><Inset Name="IconPadding" Inset="0, 4, 0, 0"/><Font Name="FocusFont" FontName="global://comm:MainFontFace" FontSize="18"/><Font Name="Font" FontName="global://comm:RegularFontFace" FontSize="18"/><Index Name="Index" Index="$Required"/><cor:Object Name="DataSource" Object="$Required"/><cor:Boolean Name="InListMaker" Boolean="false"/></Properties><Locals><Environment Name="Environment"/><BooleanChoice Name="Pressed" Value="false"/></Locals><Rules><Condition Source="[Environment.ColorScheme]" SourceValue="Default" Target="[FocusLoopContentTemplate]" Value="@res://Microsoft.MediaCenter.Shell!BrowseCommand.mcml#CommandFocusLoop"/><Condition Source="[Input.KeyFocus]" SourceValue="true" Target="[Label.Color]" Value="[FocusColor]"/><Rule><Conditions><IsType Source="[DataSource]" Type="Choice"/><Equality Source="[Input.KeyFocus]" Value="true"/></Conditions><Actions><Set Target="[DataSource!Choice.ChosenIndex]" Value="[Index.Value]"/></Actions></Rule><Rule><Conditions><Equality Source="[FocusArea.Value]" Value="Command"/></Conditions><Actions><Set Target="[Label.Color]" Value="[NoFocusColor]" /></Actions></Rule><Rule><Conditions><Equality Source="[FocusArea.Value]" ConditionOp="NotEquals" Value="Command"/></Conditions><Actions><Set Target="[Label.Color]" Value="[DormantColor]"/></Actions></Rule><Rule><Conditions><Equality Source="[InListMaker]" Value="true"/><Modified Source="[Clicker.Clicking]"/></Conditions><Actions><Set Target="[FocusArea.Value]" Value="ListMaker"/></Actions></Rule><Rule><Conditions><IsType Source="[Model]" Type="std:IThumbnailCommand"/><IsValid Source="[Model!std:IThumbnailCommand.Image]"/></Conditions><Actions><Set Target="[IconImage]" Value="[Model!std:IThumbnailCommand.Image.Values.#Default!Image]"/><Set Target="[FocusIconImage]" Value="[Model!std:IThumbnailCommand.Image.Values.#Focus!Image]"/></Actions></Rule><Rule><Conditions><Equality Source="[Clicker.Clicking]" Value="true"/><Equality Source="[Input.KeyFocus]" Value="true"/></Conditions><Actions><Set Target="[Pressed.Value]" Value="true"/><Set Target="[LabelScalePanel.Scale]" Value="[ShrinkScale]"/></Actions></Rule><Rule><Conditions><Equality Source="[Clicker.Clicking]" Value="false"/><Equality Source="[Pressed.Value]" Value="true"/></Conditions><Actions><Set Target="[Pressed.Value]" Value="false"/><Set Target="[LabelScalePanel.Scale]" Value="1.0, 1.0, 1.0"/></Actions></Rule><Rule><Conditions><Modified Source="[Clicker.Invoked]"/><Equality Source="[Pressed.Value]" Value="true"/></Conditions><Actions><Set Target="[Pressed.Value]" Value="false"/><Set Target="[LabelScalePanel.Scale]" Value="1.0, 1.0, 1.0"/></Actions></Rule><Rule><Actions><Invoke Target="[LabelScalePanel.AttachAnimation]" animation="animation://me:Browse.Command.Shrink" InvokePolicy="Synchronous"/><Invoke Target="[Label.AttachAnimation]" animation="animation://me:Browse.Command.Content.Show" InvokePolicy="Synchronous" ExclusiveApply="false"/><Invoke Target="[Label.AttachAnimation]" animation="animation://me:Browse.Command.Content.Hide" InvokePolicy="Synchronous"/></Actions></Rule></Rules></UI><UI Name="DetailsCommandList" BaseUI="me:CommandList"><Properties><cor:Object Name="AuxModel" Object="null"/><Vector3 Name="RootScale" Vector3="1.0, 1.0, 1.0"/></Properties><Locals><Environment Name="Environment"/></Locals><Rules><Condition Source="[Environment.Is2DAnimationExperience]" SourceValue="true"><Actions><PlayAnimation Target="[Root]" Animation="animation://me:Browse.Command.Scale.Details"/></Actions></Condition></Rules><Content><Panel Name="Root" Scale="1.0, 1.0, 1.0"><Animations><Animation Animation="animation://me:Browse.Command.Scale"/></Animations><Children><Repeater Name="Repeater"><Content><me:DetailsCommandButton Model="[RepeatedItem!ICommand]" AuxModel="[AuxModel]" FocusArea="[FocusArea]" Index="[RepeatedItemIndex]" InListMaker="[InListMaker]" DataSource="[DataSource]"/></Content></Repeater></Children></Panel></Content></UI><UI Name="DetailsCommandButton" BaseUI="me:CommandButton"><Properties><Color Name="FocusColor" Color="color://comm:OffWhite"/><Color Name="NoFocusColor" Color="color://comm:LightBlue"/><Color Name="DormantColor" Color="color://comm:LightBlue"/><cor:Object Name="AuxModel" Object="null"/></Properties><Locals><Environment Name="Environment"/></Locals><Rules><Rule><Conditions><IsType Source="[DataSource]" Type="Choice"/><IsValid Source="[AuxModel]"/><IsType Source="[AuxModel]" Type="ucp:DetailsSlideDeck"/><Equality Source="[Input.KeyFocus]" Value="true"/><Equality Source="[AuxModel!ucp:DetailsSlideDeck.PlayIntroAnimationForCommands]" Value="true"/></Conditions><Actions><PlayAnimation Target="[LabelScalePanel]" Animation="animation://me:Browse.Command.Initial.Show"/><Set Target="[AuxModel!ucp:DetailsSlideDeck.PlayIntroAnimationForCommands]" Value="false"/></Actions></Rule><Rule><Conditions><IsType Source="[DataSource]" Type="Choice"/><IsValid Source="[AuxModel]"/><IsType Source="[AuxModel]" Type="ucp:DetailsSlideDeck"/><Equality Source="[Input.KeyFocus]" Value="true"/><Equality Source="[AuxModel!ucp:DetailsSlideDeck.PlayIntroAnimationForCommands]" Value="true"/><Equality Source="[Environment.Is2DAnimationExperience]" Value="true"/></Conditions><Actions><PlayAnimation Target="[LabelScalePanel]" Animation="animation://me:Browse.Command.Initial.Show.GDI"/><Set Target="[AuxModel!ucp:DetailsSlideDeck.PlayIntroAnimationForCommands]" Value="false"/></Actions></Rule><Rule><Actions><Invoke Target="[LabelScalePanel.AttachAnimation]" animation="animation://me:Browse.Command.Shrink.Details" InvokePolicy="Synchronous"/><Invoke Target="[Label.AttachAnimation]" animation="animation://me:Browse.Command.Content.Show.Details" InvokePolicy="Synchronous" ExclusiveApply="false"/><Invoke Target="[Label.AttachAnimation]" animation="animation://me:Browse.Command.Content.Hide.Details" InvokePolicy="Synchronous"/></Actions></Rule></Rules></UI><UI Name="CommandFocusLoop"><Content><Panel><Layout><AnchorLayout SizeToHorizontalChildren="false" SizeToVerticalChildren="false"/></Layout><Children><Graphic Content="res://ehRes!Browse.Cmd.FocusLoop.TopLeft.png"><LayoutInput><AnchorLayoutInput Left="Parent, 0, -42" Right="Parent, 1, 25" Top="Parent, 0, -22" Bottom="Parent, 1, 12"/></LayoutInput><Animations><Animation Animation="animation://me:Browse.Command.FocusLoop.TopLeft"/></Animations></Graphic><Graphic Content="res://ehRes!Browse.Cmd.FocusLoop.Small.png"><LayoutInput><AnchorLayoutInput Left="Parent, 0, -7" Top="Parent, 0, 2"/></LayoutInput><Animations><Animation Animation="animation://me:Browse.Command.FocusLoop.Small"/></Animations></Graphic><Graphic Content="res://ehRes!Browse.Cmd.FocusLoop.Blue.png"><LayoutInput><AnchorLayoutInput Horizontal="Center" Bottom="Parent, 1, -2"/></LayoutInput><Animations><Animation Animation="animation://me:Browse.Command.FocusLoop.Blue"/></Animations></Graphic></Children></Panel></Content></UI></Mcml>