<Mcml xmlns="http://schemas.microsoft.com/2006/mcml" xmlns:cor ="assembly://MsCorLib/System" xmlns:coll ="assembly://MsCorLib/System.Collections" xmlns:shell ="assembly://Microsoft.MediaCenter.Shell/Microsoft.MediaCenter.Shell" xmlns:draw ="assembly://Microsoft.MediaCenter.UI/Microsoft.MediaCenter.UI.Drawing" xmlns:lvi ="res://Microsoft.MediaCenter.Shell!ListViewItem.mcml" xmlns:me ="Me"><GridLayout Name="DefaultLayout" Orientation="Vertical" Spacing="2, 2"/><UI Name="ListBox" Behavior="shell:KeyNavigateBehavior"><Properties><coll:IList Name="DataSource" IList="$Required"/><Inset Name="ListBoxPadding" Inset="0,45,0,0"/><Inset Name="ListBoxMargins" Inset="0,0,0,0"/><cor:Single Name="FadeSize" Single="20"/><cor:Int32 Name="FocusPadding" Int32="46"/><Size Name="AutoScrollSize" Size="0,45"/><cor:Boolean Name="ScrollByItem" Boolean="true"/><shell:RepeatHelper Name="RepeatHelper" RepeatHelper="null"/><ScrollingLayout Name="ScrollLayout" Orientation="Vertical" Prefetch="1.0"/><ILayout Name="FlowLayout" ILayout="global://me:DefaultLayout"/><Image Name="BackgroundImage" Image="null"/><ScrollingData Name="ScrollData" ScrollingData="$Required"/><Command Name="ScrollUpCommand"/><Command Name="ScrollDownCommand"/><BooleanChoice Name="IsPanning"/></Properties><Locals><Environment Name="Environment"/><ScrollIntoViewDisposition Name="ScrollIntoViewDisposition" Padding="[FocusPadding]"/><ScrollIntoViewDisposition Name="ScrollIntoViewDispositionNone" Enabled="false"/><PropertySet Name="ItemProperties"><Entries><IntRangedValue Name="SelectedIndex"/><IntRangedValue Name="TotalCount" Value="0"/><EditableText Name="TransitionState" Value="Idle"/><EditableText Name="ItemMode" Value="None"/><EditableText Name="KeyAxis"/><EditableText Name="FocusArea"/></Entries></PropertySet><shell:RepeatHelper Name="DefaultRepeatHelper"><Mappings><shell:ContentMapping Type="ICommand" ContentName="Item"/></Mappings></shell:RepeatHelper><ScrollingHandler Name="ScrollingHandler" HandlePageKeys="false" HandlePageCommands="false" HandleHomeEndKeys="false" HandleMouseWheel="false" GesturePanEnabled="true"/></Locals><Rules><Rule><Conditions><Equality Source="[ScrollByItem]" Value="true"/><Modified Source="[ScrollDownCommand.Invoked]"/><IsValid Source="[Input.KeyFocusDescendant]" /></Conditions><Actions><Set Target="[ScrollData.ScrollIntoViewDisposition]" Value="[ScrollIntoViewDisposition]"/><Invoke Target="[Input.KeyFocusDescendant.NavigateDirection]" direction="Next" InvokePolicy="Synchronous"/></Actions></Rule><Rule><Conditions><Equality Source="[ScrollByItem]" Value="true"/><Modified Source="[ScrollUpCommand.Invoked]"/><IsValid Source="[Input.KeyFocusDescendant]" /></Conditions><Actions><Set Target="[ScrollData.ScrollIntoViewDisposition]" Value="[ScrollIntoViewDisposition]"/><Invoke Target="[Input.KeyFocusDescendant.NavigateDirection]" direction="Previous" InvokePolicy="Synchronous"/></Actions></Rule><Rule><Conditions><Equality Source="[ScrollByItem]" Value="true"/><Equality Source="[Input.DeepKeyFocus]" Value="true"/><Modified Source="[Input.HandledMouseWheelNegative]"/><IsValid Source="[Input.KeyFocusDescendant]" /></Conditions><Actions><Set Target="[ScrollData.ScrollIntoViewDisposition]" Value="[ScrollIntoViewDisposition]"/><Invoke Target="[Input.KeyFocusDescendant.NavigateDirection]" direction="Next" InvokePolicy="Synchronous" /></Actions></Rule><Rule><Conditions><Equality Source="[ScrollByItem]" Value="true"/><Equality Source="[Input.DeepKeyFocus]" Value="true"/><Modified Source="[Input.HandledMouseWheelPositive]"/><IsValid Source="[Input.KeyFocusDescendant]" /></Conditions><Actions><Set Target="[ScrollData.ScrollIntoViewDisposition]" Value="[ScrollIntoViewDisposition]"/><Invoke Target="[Input.KeyFocusDescendant.NavigateDirection]" direction="Previous" InvokePolicy="Synchronous" /></Actions></Rule><Default Target="[Repeater.RepeatedItem]" Value="[DefaultRepeatHelper.RepeatedHandler]"/><Binding Source="[DefaultRepeatHelper.ContentTypeHandler]" Target="[Repeater.PreRepeatHandler]"/><Condition Source="[RepeatHelper]" ConditionOp="NotEquals" SourceValue="null"><Actions><Set Target="[DefaultRepeatHelper]" Value="[RepeatHelper]"/></Actions></Condition><Condition Source="[Environment.IsMouseActive]" SourceValue="true" Target="[ScrollData.ScrollIntoViewDisposition]" Value="[ScrollIntoViewDispositionNone]"/><Default Target="[ScrollData.ScrollIntoViewDisposition]" Value="[ScrollIntoViewDisposition]"/><Default Target="[Scroller.ScrollingData]" Value="[ScrollData]"/><Default Target="[Input.HandleMouseWheel]" Value="[ScrollByItem]"/><Default Target="[Input.KeyInteractive]" Value="false"/><Binding Source="[DataSource]" Target="[Repeater.Source]"/><Default Target="[ScrollingHandler.ScrollingData]" Value="[ScrollData]"/><Binding Target="[IsPanning.Value]" Source="[ScrollingHandler.IsPanning]"/></Rules><Content><Panel Name="ListBoxPanel" Padding="[ListBoxPadding]" Margins="[ListBoxMargins]"><Layout><ReferenceLayout SizeToContent="true"/></Layout><Children><Scroller Name="Scroller" FadeSize="[FadeSize]" Orientation="Vertical"><Children><Repeater Name="Repeater" ContentName="Item" Layout="[FlowLayout]"><Animations><Animation DebugID="ListBoxScroll.Move" Type="Move"><Keyframes><PositionKeyframe Time="0.0" RelativeTo="Current" Interpolation="SCurve, 0.2"/><PositionKeyframe Time="0.15" RelativeTo="Final"/></Keyframes></Animation></Animations></Repeater></Children></Scroller><Graphic Name="Background" Content="[BackgroundImage]" SizingPolicy="SizeToConstraint" Visible="false"/></Children></Panel></Content><Content Name="Item"><lvi:ListViewItem Model="[RepeatedItem!ICommand]" SelectionPolicy="null" Index="[RepeatedItemIndex]" ItemProperties="[ItemProperties]"/></Content></UI></Mcml>